const ie=()=>B?s([fe,ae,he,pe,Ce]):["NUMISMATIC","DECO"].includes(W)?fe:"ECHO"===W?ae:"DIGITAL"===W?he:"LINE"===W?pe:"DENOMINATION"===W?Te:R?Ce:i;function le(){ce(0,0,90,0,Ee({fillC:ROSETTE_FILL_C,strokeMod:6}))}function fe(t,e,o=200,n=100,r={},s=window){s.push(),r.strokeC&&s.stroke(r.strokeC),r.fillC&&s.fill(r.fillC);const c=r.strokeMod||1,i=r.points,l=_e(t,e,i,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<6;t++)s.strokeWeight(((r.strokeW||.7)+o/150-1)*c*at),u(i,e=>{const[n,r]=l(o,e,t/3),[s,c]=l(.95*o,e,t/3);return e%2==0?[s,c]:[n,r]},s);let f=o,a=.75*o,p=0;for(;a>=n&&p<20;){s.strokeWeight(((r.strokeW||1)+f/150-1)*at);for(let t=0;t<6;t++)u(i,e=>{const[o,n]=l(f,e,t/3),[r,s]=l(a,e,t/3);return e%2==0?[r,s]:[o,n]},s);(f=1.045*a)<10?a=0:a-.75*a<10?a=f-10:a*=.75,p++}s.pop()}function ue(t,e,o,n,r){"NUMISMATIC"===W&&fe(t,e,o,n,{...r,strokeMod:10}),ae(t,e,o,n,r,!0)}function ae(t=0,e=0,o=200,n=100,r={},s=!1){push(),r.strokeC&&stroke(r.strokeC),s&&strokeWeight(2),r.strokeW&&strokeWeight(r.strokeW);const c=_e(t,e,r.points,r.c1,r.c2,r.r1,r.r2),i=r.rDiff||(s?1:5);for(let t=n;t<=o;t+=i)!s&&!r.ignoreShrink&&strokeWeight(t*r.strokeW/130),r.innerC&&r.outterC&&stroke(lerpColor(r.innerC,r.outterC,(t-n)/(o-n))),l(r.points,e=>Ze(c(t,e)));pop()}function pe(t=0,e=0,o=200,n=100,r={}){push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points/2,c=_e(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.2){const[e,r]=Ze(c(o,t)),[s,i]=Ze(c(n,t));line(s,i,e,r)}pop()}function he(t=0,e=0,o=200,n=100,r={}){pe(t,e,o,n,r),ae(t,e,o,n,r)}function Ce(t=0,e=0,o=90,n=0,r={}){push(),r.strokeC&&stroke(r.strokeC),r.fillC&&fill(r.fillC),r.strokeW&&strokeWeight(r.strokeW);const s=o/r.r1,c=o/r.r2,i=r.points,l=i/r.c1,a=i/r.c2;u(i,n=>{const r=n/i*TWO_PI,u=n/l*TWO_PI,p=n/a*TWO_PI,h=f(r,o,t,e),[C,T]=f(u,s,h[0],h[1]);return f(p,c,C,T)}),pop()}const Te=(t=0,e=0,o=200,n=0,r={})=>{push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points,c=_e(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.5){const[e,n]=c(o,t);_o(d,e,n,.1,ROSETTE_STROKE_C)}pop()},ke=t=>R?Ie(t):Ee(t),Ie=t=>({c1:int(e(1,13))*r(),c2:int(e(170,192))*r(),r1:9,r2:5,strokeC:ROSETTE_STROKE_C,points:360,...t}),Ee=t=>({c1:int(e(1,m?25:16))*r(),c2:int(e(1,m?40:13))*r(),r1:m?e(4,10):e(10,20),r2:m?e(4,10):e(10,20),points:70,...t}),_e=(t,e,o,n,r,s,c)=>{const i=o/n,l=o/r;return(n,r,u=0,a=null,p=null)=>{const h=(r+u)/o,C=(r+u)/i,T=(r+u)/l,k=a||1/s,I=p||1/c,E=1-k-I,[_,S]=f(h*TWO_PI,n*E,t,e),[g,O]=f(C*TWO_PI,n*k,_,S);return f(T*TWO_PI,n*I,g,O)}};function Se(){switch(H){case 0:Fe();break;case 1:He();break;case 2:Me();break;case 3:Le();break;case 4:Ae();break;case 5:Ne();break;case 6:Pe();break;case 7:we();break;case 8:Re()}}function ge(){const t=e();return n(IS_CRYPTO?.125:.01)?0:t<.125?1:t<.25?2:t<.375?3:t<.5?4:t<.625?5:t<.75?6:t<.875?7:8}function Oe(){push(),noFill(),strokeWeight(e(.1,.5));for(let t=0;t<40;t++){stroke(L?I:n(.75)?h:_);const t=e(-pt/2,pt/2),o=e(-ht/2,ht/2),r=t+e(-25,25),s=r+e(-25,25),c=s+e(-25,25),i=o+e(-25,25),l=i+e(-25,25),f=l+e(-25,25);beginShape(),curveVertex(t+e(-20,20),o+e(-20,20)),curveVertex(t,o),curveVertex(r,i),curveVertex(s,l),curveVertex(c,f),endShape()}pop()}function de(){push();for(let t=-pt/2;t<pt/2;t+=5)for(let o=-ht/2;o<ht/2;o+=5)strokeWeight(e(1,2)),stroke(color(O,26,25,e(0,40))),point(t+e(-5,5),o+e(-5,5));pop()}function We(){push();for(let t=-pt/2;t<pt/2;t+=5)for(let e=-ht/2;e<ht/2;e+=5)strokeWeight(1),stroke(g),point(t+2,e+2);pop()}function Re(){push(),strokeWeight(1);for(let t=-pt/2;t<pt/2;t+=20)for(let o=-ht/2;o<ht/2;o+=20){const r=e(.01,.15),s=n(.3),c=s?0:e(-10,10),i=s?0:e(-10,10);Eo(To(),t+c+10,o+i+10,r,h)}pop()}function Me(){push(),stroke(h),strokeWeight(.5);for(let t=-pt/2;t<pt/2;t+=10)for(let e=-ht/2;e<ht/2;e+=10)n(.5)?line(t,e,t+10,e+10):line(t+10,e,t,e+10);pop()}function Le(){push(),noFill(),strokeWeight(.5);const t=N||n(.5);for(let e=0,o=0;e<=ht+5;e+=15,o++){const n=e-ht/2;beginShape(),curveVertex(-30-pt/2,n-7.5);for(let e=0;e<pt/30+2;e++){const r=o%2==0?e%2==0?7.5:-7.5:e%2==0?-7.5:7.5;curveVertex(30*e-pt/2,n+r),t&&(fill(I),circle(30*e-pt/2,n+r,4),noFill())}endShape()}pop()}function Ae(){push(),noFill(),strokeWeight(.5);for(let t=0;t<pt;t+=100)for(let e=0;e<ht;e+=100)if(e/100%2==0&&t/100%2==0||e/100%2==1&&t/100%2==1)for(let o=0;o<100;o+=4)line(t-pt/2,o+e+2-ht/2,t+100-pt/2,o+e+2-ht/2);else for(let o=0;o<100;o+=4)line(o+t+2-pt/2,e-ht/2,o+t+2-pt/2,e+100-ht/2);pop()}function Ne(){push(),noFill(),strokeWeight(.5);for(let t=-5;t<ht+8;t+=ht/100){const e=t-ht/2;beginShape(),curveVertex(-30-pt/2,e-7.5);for(let t=0;t<pt/30+2;t++)curveVertex(30*t-pt/2,e+(t%2==0?7.5:-7.5));endShape()}pop()}function Pe(){push(),strokeWeight(.35),N&&fill(LIGHT_ACCENT_C),stroke(C);for(let t=0;t<pt;t+=10)for(let o=0;o<ht;o+=10){const r=t-pt/2,s=o-ht/2;if(n(.5)){line(r,s,r+10,s+10);const t=e();t<.15?circle(r,s,4):t<.3&&circle(r+10,s+10,4)}else{line(r+20,s,r,s+20);const t=e();t<.15?circle(r+20,s,4):t<.3&&circle(r,s+20,4)}}pop()}function we(){push(),strokeWeight(1),stroke(C);for(let t=-pt/2-ht/2;t<ht/2+pt/2;t+=5)line(t,-ht/2,ht/2+t,0),line(ht/2+t,0,t,ht/2);pop()}function He(){push(),strokeWeight(.35),stroke(C);for(let t=-pt/2;t<pt/2+1;t+=10)for(let e=-ht/2;e<ht/2+1;e+=10)circle(t,e,14);pop()}function Fe(){push();const t=int(e(2,5));for(let o=0;o<pt;o+=t)for(let n=0;n<ht;n+=t)fill(lerpColor(T,h,e(.75))),noStroke(),rect(pt/2-o-t,ht/2-n-t,t,t);pop()}function be(t=[2,4]){push();const o=R?fe:ie(),n=Ee({strokeC:h,strokeW:.35}),r=e(0,pt/4);t.forEach(t=>o(St[t][0],St[t][1],pt/2,r,n)),pop()}function ve(){ce(0,0,pt,0)}function xe(t,e,o=200){push(),strokeWeight(2),fill(T),arc(t,e,.9*o,o,0,TWO_PI),noFill(),Eo("$",t-.17*o,e-.125*o,.125,h),Eo("$",t+.17*o,e-.125*o,.125,h),circle(t-.17*o,e-.125*o,.1*o),circle(t+.17*o,e-.125*o,.1*o),arc(t,e,.6*o,.7*o,TWO_PI+.15*PI,.85*PI),pop()}function Ve(t,o,n,r=1){push(),scale(r),n&&stroke(n);const s=e();s<.3333?De(t,o):s<.85?Ge(t,o):Ye(t,o),pop()}function De(t=0,e=0,o=100){const n=1080/s([22,32,32.5,33,34,64,65,66,66.4]);l(1080,r=>{const s=r/1080*TWO_PI,[c,i]=f(s,o/100+abs(75*sin(33*s)),t,e);return f(r/n*TWO_PI,o,c,i)})}function Ge(t=0,e=0,o=100){const n=32*s([7,13,29,31,32,34,35,36,37,44,46,58,59,60,62,85,88,92,96]),r=5*o/6,c=4*o/6;l(n,o=>{const s=o/n*TWO_PI,[i,l]=f(s,r+abs(30*sin(90*s)),t,e);return f(o/32*TWO_PI,.8*c+abs(sin(360*s)),i,l)})}function Ye(t,e,o=100){r();const n=s([[10,96,2],[10,96,-4],[14,96,2],[15,29,-5],[720,-5,5],[720,6,-3],[720,-4,2],[720,-6,2],[720,-3,3],[720,-15,5],[50,-9,10]]),c=TWO_PI/n[0],i=.4*o,u=TWO_PI/n[1],a=.2*o,p=TWO_PI/n[2];l(720,n=>{const[r,s]=f(n*c,o,t,e),[l,h]=f(n*u,i,r,s);return f(n*p,a,l,h)})}function Ke(t=0,o=0,r,s=h){push();const c=N?I:T,i=n(.4275),l=e(),f=!i&&n(.5),u=!i&&n(.5),a=!i&&!f&&!u&&n(.5),p=l<.85,C=l>=.85,k=n(.9),E=n(.65),_=n(.65),S=n(.65),g=n(.65),O=n(.65)||!(E||_||S||g),d=!E&&!S&&!O,W=5*r/250,R={tC:f,bC:u,e:i,iE:a,t:p,iT:C,p:k};E&&Xe(t,o,r,s,9*W,R),_&&Xe(t,o,r,d?s:c,7*W,R),S&&Xe(t,o,r,s,5*W,R),g&&Xe(t,o,r,d?s:c,3*W,R),O&&Xe(t,o,r,s,W,R),pop()}function Xe(t,e,o,n,r,{tC:s=!1,bC:c=!1,e:i=!1,iE:l=!1,t:f=!1,iT:u=!1,p:a=!1}){noFill(),strokeWeight(r),stroke(n),f&&ye(t,e,o,1),u&&ye(t,e,o,-1),i&&me(t,e,o,130),l&&me(t,e,o,230),a&&point(t,e,0),s&&je(t,e,o,1),c&&je(t,e,o,0)}function je(t,e,o,n=1){const{centerW:r}=Ue(o),s=r/sin(radians(65)),c=cos(radians((1===n?235:124)/2))*(r/2);circle(t,e+c,s)}function Ue(t){const e=sin(radians(60))*t,o=tan(radians(30))*t/2;return{tHeight:e,heightOfCenter:o,centerW:tan(radians(30))*(e-o)*2}}function me(t,e,o,n,r=1){const{centerW:s}=Ue(o),c=s*r/sin(radians(n/2)),i=cos(radians(n/2))*(c/2);arc(t,e+i,c,c,radians(270-n/2),radians(270+n/2),OPEN),arc(t,e-i,c,c,radians(90-n/2),radians(90+n/2),OPEN)}function ye(t,e,o,n=1){const{tHeight:r,heightOfCenter:s}=Ue(o);triangle(t-o/2,e+s*n,t+o/2,e+s*n,t,e+(r-s)*-n)}function Be(t,o,r,s){if(lt)return;push(),noFill(),strokeWeight(1.5);let c=t-8*r,i=o+r/2;const l=[[c-e(r),i-e(r)],[c,i]];a(8,()=>{const t=n(.75),o=c+r*(1+.1*(t?-7:7))/2,s=i+(t?n(.85)?r*e(0,.3):r*e(1,1.5):-1*(n(.5)?r*e(0,.3):r*e(1,1.5))),f=c+r*e(.9,1.1),u=i+r*e(-.1,.1);l.push([o,s]),l.push([f,u]),c=f,i=u}),l.push([c+e(r),i+e(r)]),s?stroke(h):stroke(T),beginShape(),l.forEach(([t,e])=>curveVertex(t+1,e+1)),endShape(),s?stroke(_):stroke(h),beginShape(),l.forEach(([t,e])=>curveVertex(t,e)),endShape(),pop()}let $e=t=>{let o=e()+"";return o[2]!==t?o[2]:$e(t)},qe=(t=2)=>e().toFixed(3).slice(2,2+t);function Qe(){let t="";const e=e=>a(e,()=>t+=qe());if(0===it)e(2),t+=t;else if(1===it)e(2),t+=t.split("").reverse().join("");else if(2===it)e(4),t=t.split("").sort().join("");else if(3===it)e(4),t=t.split("").sort().reverse().join("");else if(4===it)t="00000"+qe(3);else if(5===it)t="99999"+qe(3);else if(6===it){const e=$e("0");a(8,()=>t+=s(["0",e]))}else e(4);return t}function ze(t,e){if(lt)return;push();const o=Qe();fill(T),stroke(h),rect(t,e,x?72:60,20),Eo(o,t+30,e+10,.125,h,_),x&&(fill(_),stroke(_),u(10,o=>f(o*TWO_PI/10,o%2==0?2.5:6,t+63,e+10))),pop()}const Je=n(.5);function Ze([t,o],n=window){return y?(n.rotate(.1),[t+(Je?0:e(-10,10)),o+(Je?0:e(-10,10))]):[t,o]}const to=20;function eo(t){push(),strokeWeight(2);const e=n(.3),o=to/2;for(let n=0;n<ht;n++)stroke(lerpColor(color(hue(_),saturation(_),lightness(_),50),color(hue(E),saturation(E),lightness(E),50),n/ht)),e&&int(n/50)%3==0?i():line(t-o,n+Et,t+o,n+Et);pop()}function oo(){const t=e();if(t<.02)return po();const o=R?.5:.25;ro(()=>{if(t<o){const t=e(),o=r()*(t<.75?2:3),s=io({degAdj:o}),c=8+s.radius;lo(c,s),n(.25)&&lo(c,io({degAdj:-1*o}))}else t<.55?ho(60):t<.8?ao(-10,n(.7)):t<.85?so(10,int(e(20,200))):t<.9?co(20):uo(20,int(e(1,7)),r())})}const no=(t,e,o)=>{const n=int(e*Ct/(2*(Ct+1))),r=int(e/2-n),s=(pt-2*o)/n,c=(ht-2*o)/r,i=-ht/2+o,l=ht/2-o,f=-pt/2+o,u=pt/2-o,a=n+r,p=2*n+r,h=2*n+2*r;return t<n?[f+t*s,i]:t<a?[u,i+(t-n)*c]:t<p?[u-(t-a)*s,l]:t<h?[f,l-(t-p)*c]:[f+(t-h)*s,i]};function ro(t){push(),Ot.translate(pt/2,ht/2),Ot.noFill(),Ot.stroke(h),t(),image(Ot,-pt/2,-ht/2),pop()}function so(t,e){for(let o=0;o<2;o+=.5)u(e,n=>{const[r,s]=no(n+o,e,t),[c,i]=no(n+o,e,t+20);return n%2==0?[c,i]:[r,s]},Ot)}function co(t=10){Ot.strokeWeight(1*at);const e=2*(pt-2*t+(ht-2*t))/3;a(e,o=>{const[n,r]=no(o,e,t+3);Ot.circle(n,r,6)}),u(e,o=>no(o,e,t),Ot),u(e,o=>no(o,e,t+6),Ot)}function io(t){const o=e(15,31),n=2===abs(t.degAdj)?e(3,26):e(1,13);return{radius:o,degAdj:t.degAdj,offsetAmt:n}}function lo(t,e){const o=e.radius,n=e.degAdj,r=1/e.offsetAmt;Ot.strokeWeight(.6*at);for(let e=0;e<2;e+=r)u(67,r=>{const[s,c]=no(r+e,66,t);return f((r+e)/n*TWO_PI,o,s,c)},Ot)}function fo(t,e,o,n=1){const[r,s]=no(t,e,o);return f(t/5*n*TWO_PI,5,r,s)}function uo(t=20,e=4,o=1){const n=50*e;if(M&&(Ot.fill(ROSETTE_FILL_C),Ot.stroke(ROSETTE_STROKE_C)),["NUMISMATIC","VINTAGE","DECO"].includes(W))for(let e=0;e<2;e+=.3333)u(n,r=>{const[s,c]=fo(r+e,n,t,o),[i,l]=fo(r+e,n,t+22,o);return r%2==0?[i,l]:[s,c]},Ot);if(["ECHO","DIGITAL"].includes(W))for(let e=0;e<25;e+=5)u(n,o=>fo(o,n,t+e),Ot,o);if(["LINE","DIGITAL"].includes(W))for(let e=0;e<n;e+=.2){const[r,s]=fo(e,n,t,o),[c,i]=fo(e,n,t+22,o);Ot.line(r,s,c,i)}if(M){const e=e=>u(n,r=>fo(r,n,t+e,o),Ot);e(19),Ot.erase(),e(20),Ot.noErase()}}function ao(t=-10,o=!0){const n=int(e(1,7));N?(Ot.push(),a(100,t=>{Ot.stroke(lerpColor(ROSETTE_STROKE_C,ROSETTE_FILL_C,(t+75)/150)),Ot.rectMode(CENTER),Ot.rect(0,0,pt-t,ht-t)}),Ot.pop()):Ot.background(ROSETTE_FILL_C),Ot.stroke(ROSETTE_STROKE_C),Ot.strokeWeight(1.1*at-n/12);const s=r(),c=["ECHO","DIGITAL"].includes(W)?6:0;uo(t+2,n,s),uo(t+19+c,n,s),uo(t+36+2*c,n,s);const i=t+(o?35:55);Ot.stroke(h),Ot.erase(),Ot.fill(0),o?Ot.rect(i-pt/2,i-ht/2,pt-2*i,ht-2*i):Ot.rect(-pt/2,i-ht/2,pt,ht-2*i),Ot.noErase(),Ot.noFill(),o?(Ot.rect(i-pt/2,i-ht/2,pt-2*i,ht-2*i),co(i+5)):Ot.rect(-pt/2,i-ht/2,pt,ht-2*i)}function po(t=10){const e=To();a(80,o=>{const[n,r]=no(o,80,t);_o(e,n,r,.1,h)})}function ho(t){const o=-ht/2,n=ht/2,r=-pt/2,s=pt/2,c=t/1.5,i=e(1,5),l=int(e(4,11));Ot.stroke(h);for(let e=0;e<l;e++)e%2==0&&e!==l-1||Ot.erase(),Ot.fill(h),Ot.strokeWeight(t*at-e*i),Ot.line(r,o,s,o),Ot.line(s,o,s,n),Ot.line(s,n,r,n),Ot.line(r,n,r,o),Ot.circle(r+c,o+c,c),Ot.circle(r+c,n-c,c),Ot.circle(s-c,o+c,c),Ot.circle(s-c,n-c,c),e%2==0&&e!==l-1||Ot.noErase()}const Co={1:"I",2:"II",5:"V",10:"X",20:"XX",50:"L",100:"C"};function To(){const t=e();return!d||dt&&t<.1?"$":P&&(!Wt||t<.5)?(Wt=!0,Co[d]):(dt=!0,d)}function ko(t,e,o,n,r,s){push(),translate(e-25*n,o+40*n),scale(n),stroke(r),fill(s||r);let c=!1;beginShape(),Wo[t].forEach((t,e)=>{"M"===t[0]?(c&&endContour(),0!==e&&(beginContour(),c=!0),vertex(t[1],t[2])):t.length>2?quadraticVertex(t[2],t[3],t[0],t[1]):vertex(t[0],t[1])}),c&&endContour(),endShape(),pop()}const Io={V:-14,C:-14,X:-12,XX:-11.5,L:-5.5,I:5.5,II:3.5,$:-3,4:-3,6:-3};function Eo(t,e,o,n,r,s){if(!t)return;const c=floor(t.length/2);for(let i=0;i<t.length;i++){const l=i-c,f=50*n*("XX"===t?1.4:1),u=(Io[t]||0)*n,a=f*l+(t.length%2==0?f/2:0);ko(t[i],e+a+u,o-3*n,n,r,s)}}function _o(...t){["10","20","50","II"].includes(t[0])&&(t[3]=.75*t[3]),"XX"===t[0]&&(t[3]=.65*t[3]),"100"===t[0]&&(t[3]=.65*t[3]),Eo(...t)}const So=(...t)=>_o(To(),...t);function go(t,e,o,n,r){const s=To();Eo(s,t+1,e+1,o,n),Eo(s,t-1,e-1,o,n),Eo(s,t-1,e+1,o,n),Eo(s,t+1,e-1,o,n),Eo(s,t,e,o,r)}function Oo(t,e,o){const n=To();_o(n,t+2,e+2,o,h),_o(n,t,e,o,L?h:T,L?T:N?E:h)};
