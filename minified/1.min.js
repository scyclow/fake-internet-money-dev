const Kt=()=>H?sn([Xt,Ut,yt,mt,Bt]):["NUMISMATIC","DECO"].includes(a)?Xt:"ECHO"===a?Ut:"DIGITAL"===a?yt:"LINE"===a?mt:"DENOMINATION"===a?$t:h?Bt:ln;function Yt(){Gt(0,0,90,0,zt({fillC:ROSETTE_FILL_C,strokeMod:6}))}function Xt(t,e,n=200,o=100,r={},s=window){s.push(),r.strokeC&&s.stroke(r.strokeC),r.fillC&&s.fill(r.fillC);const i=r.strokeMod||1,c=r.points,l=Jt(t,e,c,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<6;t++)s.strokeWeight(((r.strokeW||.7)+n/150-1)*i),an(c,e=>{const[o,r]=l(n,e,t/3),[s,i]=l(.95*n,e,t/3);return e%2==0?[s,i]:[o,r]},s);let f=n,u=.75*n,a=0;for(;u>=o&&a<20;){s.strokeWeight((r.strokeW||1)+f/150-1);for(let t=0;t<6;t++)an(c,e=>{const[n,o]=l(f,e,t/3),[r,s]=l(u,e,t/3);return e%2==0?[r,s]:[n,o]},s);(f=1.045*u)<10?u=0:u-.75*u<10?u=f-10:u*=.75,a++}s.pop()}function jt(...t){Ut(...t,!0)}function Ut(t=0,e=0,n=200,o=100,r={},s=!1){push(),r.strokeC&&stroke(r.strokeC),s&&strokeWeight(2),r.strokeW&&strokeWeight(r.strokeW);const i=Jt(t,e,r.points,r.c1,r.c2,r.r1,r.r2),c=r.rDiff||(s?1:5),l=s?int(n/40):0;for(let t=o;t<=n+l;t+=c)!s&&!r.ignoreShrink&&strokeWeight(t*r.strokeW/130),r.innerC&&r.outterC&&stroke(lerpColor(r.innerC,r.outterC,(t-o)/(n-o))),fn(r.points,e=>Pe(i(t,e)));pop()}function mt(t=0,e=0,n=200,o=100,r={}){push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points/2,i=Jt(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.2){const[e,r]=Pe(i(n,t)),[s,c]=Pe(i(o,t));line(s,c,e,r)}pop()}function yt(t=0,e=0,n=200,o=100,r={}){mt(t,e,n,o,r),Ut(t,e,n,o,r)}function Bt(t=0,e=0,n=90,o=0,r={}){push(),r.strokeC&&stroke(r.strokeC),r.fillC&&fill(r.fillC),r.strokeW&&strokeWeight(r.strokeW);const s=n/r.r1,i=n/r.r2,c=r.points,l=c/r.c1,f=c/r.c2;an(c,o=>{const r=o/c*TWO_PI,u=o/l*TWO_PI,a=o/f*TWO_PI,h=un(r,n,t,e),[p,C]=un(u,s,h[0],h[1]);return un(a,i,p,C)}),pop()}const $t=(t=0,e=0,n=200,o=0,r={})=>{push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points,i=Jt(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.5){const[e,o]=i(n,t);Qe(u,e,o,.1,ROSETTE_STROKE_C)}pop()},qt=t=>h?Qt(t):zt(t),Qt=t=>({c1:int(en(1,13))*rn(),c2:int(en(170,192))*rn(),r1:9,r2:5,strokeC:ROSETTE_STROKE_C,points:360,...t}),zt=t=>({c1:int(en(1,w?25:16))*rn(),c2:int(en(1,w?40:13))*rn(),r1:w?en(4,10):en(10,20),r2:w?en(4,10):en(10,20),points:70,...t}),Jt=(t,e,n,o,r,s,i)=>{const c=n/o,l=n/r;return(o,r,f=0,u=null,a=null)=>{const h=(r+f)/n,p=(r+f)/c,C=(r+f)/l,T=u||1/s,E=a||1/i,k=1-T-E,[I,_]=un(h*TWO_PI,o*k,t,e),[O,S]=un(p*TWO_PI,o*T,I,_);return un(C*TWO_PI,o*E,O,S)}};function Zt(){switch(_){case 0:ae();break;case 1:ue();break;case 2:re();break;case 3:se();break;case 4:ie();break;case 5:ce();break;case 6:le();break;case 7:fe();break;case 8:oe()}}function te(){const t=en();return on(IS_CRYPTO?.125:.01)?0:t<.125?1:t<.25?2:t<.375?3:t<.5?4:t<.625?5:t<.75?6:t<.875?7:8}function ee(){push(),noFill(),strokeWeight(en(.1,.5));for(let t=0;t<40;t++){stroke(C?s:on(.75)?e:c);const t=en(-y/2,y/2),n=en(-B/2,B/2),o=t+en(-25,25),r=o+en(-25,25),i=r+en(-25,25),l=n+en(-25,25),f=l+en(-25,25),u=f+en(-25,25);beginShape(),curveVertex(t+en(-20,20),n+en(-20,20)),curveVertex(t,n),curveVertex(o,l),curveVertex(r,f),curveVertex(i,u),endShape()}pop()}function ne(){push();for(let t=-y/2;t<y/2;t+=5)for(let e=-B/2;e<B/2;e+=5)strokeWeight(en(1,2)),stroke(color(f,26,25,en(0,40))),point(t+en(-5,5),e+en(-5,5));pop()}function oe(){push(),strokeWeight(1);for(let t=-y/2;t<y/2;t+=20)for(let n=-B/2;n<B/2;n+=20){const o=en(.01,.15),r=on(.3),s=r?0:en(-10,10),i=r?0:en(-10,10);qe(ye(),t+s+10,n+i+10,o,e)}pop()}function re(){push(),stroke(e),strokeWeight(.5);for(let t=-y/2;t<y/2;t+=10)for(let e=-B/2;e<B/2;e+=10)on(.5)?line(t,e,t+10,e+10):line(t+10,e,t,e+10);pop()}function se(){push(),noFill(),strokeWeight(.5);const t=E||on(.5);for(let e=0,n=0;e<=B+5;e+=15,n++){const o=e-B/2;beginShape(),curveVertex(-30-y/2,o-7.5);for(let e=0;e<y/30+2;e++){const r=n%2==0?e%2==0?7.5:-7.5:e%2==0?-7.5:7.5;curveVertex(30*e-y/2,o+r),t&&(fill(s),circle(30*e-y/2,o+r,4),noFill())}endShape()}pop()}function ie(){push(),noFill(),strokeWeight(.5);for(let t=0;t<y;t+=100)for(let e=0;e<B;e+=100)if(e/100%2==0&&t/100%2==0||e/100%2==1&&t/100%2==1)for(let n=0;n<100;n+=4)line(t-y/2,n+e+2-B/2,t+100-y/2,n+e+2-B/2);else for(let n=0;n<100;n+=4)line(n+t+2-y/2,e-B/2,n+t+2-y/2,e+100-B/2);pop()}function ce(){push(),noFill(),strokeWeight(.5);for(let t=-5;t<B+8;t+=B/100){const e=t-B/2;beginShape(),curveVertex(-30-y/2,e-7.5);for(let t=0;t<y/30+2;t++)curveVertex(30*t-y/2,e+(t%2==0?7.5:-7.5));endShape()}pop()}function le(){push(),strokeWeight(.35),E&&fill(LIGHT_ACCENT_C),stroke(n);for(let t=0;t<y;t+=10)for(let e=0;e<B;e+=10){const n=t-y/2,o=e-B/2;if(on(.5)){line(n,o,n+10,o+10);const t=en();t<.15?circle(n,o,4):t<.3&&circle(n+10,o+10,4)}else{line(n+20,o,n,o+20);const t=en();t<.15?circle(n+20,o,4):t<.3&&circle(n,o+20,4)}}pop()}function fe(){push(),strokeWeight(1),stroke(n);for(let t=-y/2-B/2;t<B/2+y/2;t+=5)line(t,-B/2,B/2+t,0),line(B/2+t,0,t,B/2);pop()}function ue(){push(),strokeWeight(.35),stroke(n);for(let t=-y/2;t<y/2+1;t+=10)for(let e=-B/2;e<B/2+1;e+=10)circle(t,e,14);pop()}function ae(){push();const t=int(en(2,5));for(let n=0;n<y;n+=t)for(let r=0;r<B;r+=t)fill(lerpColor(o,e,en(.75))),noStroke(),rect(y/2-n-t,B/2-r-t,t,t);pop()}function he(t=[2,4]){push();const n=h?Xt:Kt(),o=zt({strokeC:e,strokeW:.35}),r=en(0,y/4);t.forEach(t=>n(tt[t][0],tt[t][1],y/2,r,o)),pop()}function pe(){Gt(0,0,y,0)}function Ce(t,n,r=200){push(),strokeWeight(2),fill(o),arc(t,n,.9*r,r,0,TWO_PI),noFill(),qe("$",t-.17*r,n-.125*r,.125,e),qe("$",t+.17*r,n-.125*r,.125,e),circle(t-.17*r,n-.125*r,.1*r),circle(t+.17*r,n-.125*r,.1*r),arc(t,n,.6*r,.7*r,TWO_PI+.15*PI,.85*PI),pop()}function Te(t,e,n,o=1){push(),scale(o),n&&stroke(n);const r=en();r<.3333?Ee(t,e):r<.85?ke(t,e):Ie(t,e),pop()}function Ee(t=0,e=0,n=100){const o=1080/sn([22,32,32.5,33,34,64,65,66,66.4]);fn(1080,r=>{const s=r/1080*TWO_PI,[i,c]=un(s,n/100+abs(75*sin(33*s)),t,e);return un(r/o*TWO_PI,n,i,c)})}function ke(t=0,e=0,n=100){const o=32*sn([7,13,29,31,32,34,35,36,37,44,46,58,59,60,62,85,88,92,96]),r=5*n/6,s=4*n/6;fn(o,n=>{const i=n/o*TWO_PI,[c,l]=un(i,r+abs(30*sin(90*i)),t,e);return un(n/32*TWO_PI,.8*s+abs(sin(360*i)),c,l)})}function Ie(t,e,n=100){rn();const o=sn([[10,96,2],[10,96,-4],[14,96,2],[15,29,-5],[720,-5,5],[720,6,-3],[720,-4,2],[720,-6,2],[720,-3,3],[720,-15,5],[50,-9,10]]),r=TWO_PI/o[0],s=.4*n,i=TWO_PI/o[1],c=.2*n,l=TWO_PI/o[2];fn(720,o=>{const[f,u]=un(o*r,n,t,e),[a,h]=un(o*i,s,f,u);return un(o*l,c,a,h)})}function _e(t=0,n=0,r,i=e){push();const c=E?s:o,l=on(.4275),f=en(),u=!l&&on(.5),a=!l&&on(.5),h=!l&&!u&&!a&&on(.5),p=f<.85,C=f>=.85,T=on(.9),k=on(.65),I=on(.65),_=on(.65),O=on(.65),S=on(.65)||!(k||I||_||O),d=!k&&!_&&!S,g=5*r/250,W={tC:u,bC:a,e:l,iE:h,t:p,iT:C,p:T};k&&Oe(t,n,r,i,9*g,W),I&&Oe(t,n,r,d?i:c,7*g,W),_&&Oe(t,n,r,i,5*g,W),O&&Oe(t,n,r,d?i:c,3*g,W),S&&Oe(t,n,r,i,g,W),pop()}function Oe(t,e,n,o,r,{tC:s=!1,bC:i=!1,e:c=!1,iE:l=!1,t:f=!1,iT:u=!1,p:a=!1}){noFill(),strokeWeight(r),stroke(o),f&&We(t,e,n,1),u&&We(t,e,n,-1),c&&ge(t,e,n,130),l&&ge(t,e,n,230),a&&point(t,e,0),s&&Se(t,e,n,1),i&&Se(t,e,n,0)}function Se(t,e,n,o=1){const{centerW:r}=de(n),s=r/sin(radians(65)),i=cos(radians((1===o?235:124)/2))*(r/2);circle(t,e+i,s)}function de(t){const e=sin(radians(60))*t,n=tan(radians(30))*t/2;return{tHeight:e,heightOfCenter:n,centerW:tan(radians(30))*(e-n)*2}}function ge(t,e,n,o,r=1){const{centerW:s}=de(n),i=s*r/sin(radians(o/2)),c=cos(radians(o/2))*(i/2);arc(t,e+c,i,i,radians(270-o/2),radians(270+o/2),OPEN),arc(t,e-c,i,i,radians(90-o/2),radians(90+o/2),OPEN)}function We(t,e,n,o=1){const{tHeight:r,heightOfCenter:s}=de(n);triangle(t-n/2,e+s*o,t+n/2,e+s*o,t,e+(r-s)*-o)}function Me(t,n,r,s){if(j)return;push(),noFill(),strokeWeight(1.5);let i=t-8*r,l=n+r/2;const f=[[i-en(r),l-en(r)],[i,l]];hn(8,()=>{const t=on(.75),e=i+r*(1+.1*(t?-7:7))/2,n=l+(t?on(.85)?r*en(0,.3):r*en(1,1.5):-1*(on(.5)?r*en(0,.3):r*en(1,1.5))),o=i+r*en(.9,1.1),s=l+r*en(-.1,.1);f.push([e,n]),f.push([o,s]),i=o,l=s}),f.push([i+en(r),l+en(r)]),s?stroke(e):stroke(o),beginShape(),f.forEach(([t,e])=>curveVertex(t+1,e+1)),endShape(),s?stroke(c):stroke(e),beginShape(),f.forEach(([t,e])=>curveVertex(t,e)),endShape(),pop()}let Re=t=>{let e=en()+"";return e[2]!==t?e[2]:Re(t)},Le=(t=2)=>en().toFixed(3).slice(2,2+t);function Ae(){let t="";const e=e=>hn(e,()=>t+=Le());if(0===X)e(2),t+=t;else if(1===X)e(2),t+=t.split("").reverse().join("");else if(2===X)e(4),t=t.split("").sort().join("");else if(3===X)e(4),t=t.split("").sort().reverse().join("");else if(4===X)t="00000"+Le(3);else if(5===X)t="99999"+Le(3);else if(6===X){const e=Re("0");hn(8,()=>t+=sn(["0",e]))}else e(4);return t}function Ne(t,n){if(j)return;push();const r=Ae();fill(o),stroke(e),rect(t,n,d?72:60,20),qe(r,t+30,n+10,.125,e,c),d&&(fill(c),stroke(c),an(10,e=>un(e*TWO_PI/10,e%2==0?2.5:6,t+63,n+10))),pop()}function Pe([t,e],n=window){if(b){n.rotate(.1);const o=on(.5);return[t+(o?en(-10,10):0),e+(o?en(-10,10):0)]}return[t,e]}const we=20;function be(t){push(),strokeWeight(2);const e=on(.3),n=we/2;for(let o=0;o<B;o++)stroke(lerpColor(color(hue(c),saturation(c),lightness(c),50),color(hue(i),saturation(i),lightness(i),50),o/B)),e&&int(o/50)%3==0?ln():line(t-n,o+J,t+n,o+J);pop()}function He(){const t=en();if(t<.02)return je();const e=h?.5:.25;ve(()=>{if(t<e){const t=en(),e=rn()*(t<.75?2:3),n=De({degAdj:e}),o=8+n.radius;Ge(o,n),on(.25)&&Ge(o,De({degAdj:-1*e}))}else t<.55?Ue(60):t<.8?Xe(-10,on(.7)):t<.85?Ve(10,int(en(20,200))):t<.9?xe(20):Ye(20,int(en(1,7)),rn())})}const Fe=(t,e,n)=>{const o=int(e*$/(2*($+1))),r=int(e/2-o),s=(y-2*n)/o,i=(B-2*n)/r,c=-B/2+n,l=B/2-n,f=-y/2+n,u=y/2-n,a=o+r,h=2*o+r,p=2*o+2*r;return t<o?[f+t*s,c]:t<a?[u,c+(t-o)*i]:t<h?[u-(t-a)*s,l]:t<p?[f,l-(t-h)*i]:[f+(t-p)*s,c]};function ve(t){push(),scale(1/q),nt.scale(q),nt.translate(y/2,B/2),nt.noFill(),nt.stroke(e),t(),image(nt,-y*q/2,-B*q/2),pop()}function Ve(t,e){for(let n=0;n<2;n+=.5)an(e,o=>{const[r,s]=Fe(o+n,e,t),[i,c]=Fe(o+n,e,t+20);return o%2==0?[i,c]:[r,s]},nt)}function xe(t=10){nt.strokeWeight(1);const e=2*(y-2*t+(B-2*t))/3;hn(e,n=>{const[o,r]=Fe(n,e,t+3);nt.circle(o,r,6)}),an(e,n=>Fe(n,e,t),nt),an(e,n=>Fe(n,e,t+6),nt)}function De(t){const e=en(15,31),n=2===abs(t.degAdj)?en(3,26):en(1,13);return{radius:e,degAdj:t.degAdj,offsetAmt:n}}function Ge(t,e){const n=e.radius,o=e.degAdj,r=1/e.offsetAmt;for(let e=0;e<2;e+=r)an(67,r=>{const[s,i]=Fe(r+e,66,t);return un((r+e)/o*TWO_PI,n,s,i)},nt)}function Ke(t,e,n,o=1){const[r,s]=Fe(t,e,n);return un(t/5*o*TWO_PI,5,r,s)}function Ye(t=20,e=4,n=1){const o=50*e;if(p&&(nt.fill(ROSETTE_FILL_C),nt.stroke(ROSETTE_STROKE_C)),["NUMISMATIC","VINTAGE","DECO"].includes(a))for(let e=0;e<2;e+=.3333)an(o,r=>{const[s,i]=Ke(r+e,o,t,n),[c,l]=Ke(r+e,o,t+22,n);return r%2==0?[c,l]:[s,i]},nt);if(["ECHO","DIGITAL"].includes(a))for(let e=0;e<25;e+=5)an(o,n=>Ke(n,o,t+e),nt,n);if(["LINE","DIGITAL"].includes(a))for(let e=0;e<o;e+=.2){const[r,s]=Ke(e,o,t,n),[i,c]=Ke(e,o,t+22,n);nt.line(r,s,i,c)}p&&(nt.erase(),an(o,e=>Ke(e,o,t+20,n),nt),nt.noErase())}function Xe(t=-10,n=!0){const o=int(en(1,7));E?(nt.push(),hn(100,t=>{nt.stroke(lerpColor(ROSETTE_STROKE_C,ROSETTE_FILL_C,(t+75)/150)),nt.rectMode(CENTER),nt.rect(0,0,y-t,B-t)}),nt.pop()):nt.background(ROSETTE_FILL_C),nt.stroke(ROSETTE_STROKE_C),nt.strokeWeight(1.1-o/12);const r=rn(),s=["ECHO","DIGITAL"].includes(a)?6:0;Ye(t+2,o,r),Ye(t+19+s,o,r),Ye(t+36+2*s,o,r);const i=t+(n?35:55);nt.stroke(e),nt.erase(),nt.fill(0),n?nt.rect(i-y/2,i-B/2,y-2*i,B-2*i):nt.rect(-y/2,i-B/2,y,B-2*i),nt.noErase(),nt.noFill(),n?(nt.rect(i-y/2,i-B/2,y-2*i,B-2*i),xe(i+5)):nt.rect(-y/2,i-B/2,y,B-2*i)}function je(t=10){const n=ye();hn(80,o=>{const[r,s]=Fe(o,80,t);Qe(n,r,s,.1,e)})}function Ue(t){const n=-B/2,o=B/2,r=-y/2,s=y/2,i=t/1.5,c=en(1,5),l=int(en(4,11));nt.stroke(e);for(let f=0;f<l;f++)f%2==0&&f!==l-1||nt.erase(),nt.fill(e),nt.strokeWeight(t-f*c),nt.line(r,n,s,n),nt.line(s,n,s,o),nt.line(s,o,r,o),nt.line(r,o,r,n),nt.circle(r+i,n+i,i),nt.circle(r+i,o-i,i),nt.circle(s-i,n+i,i),nt.circle(s-i,o-i,i),f%2==0&&f!==l-1||nt.noErase()}const me={1:"I",2:"II",5:"V",10:"X",20:"XX",50:"L",100:"C"};function ye(){const t=en();return!u||ot&&t<.1?"$":k&&(!rt||t<.5)?(rt=!0,me[u]):(ot=!0,u)}function Be(t,e,n,o,r,s){push(),translate(e-25*o,n+40*o),scale(o),stroke(r),fill(s||r);let i=!1;beginShape(),pn[t].forEach((t,e)=>{"M"===t[0]?(i&&endContour(),0!==e&&(beginContour(),i=!0),vertex(t[1],t[2])):t.length>2?quadraticVertex(t[2],t[3],t[0],t[1]):vertex(t[0],t[1])}),i&&endContour(),endShape(),pop()}const $e={V:-14,C:-14,X:-12,XX:-11.5,L:-5.5,I:5.5,II:3.5,$:-3,4:-3,6:-3};function qe(t,e,n,o,r,s){if(!t)return;const i=floor(t.length/2);for(let c=0;c<t.length;c++){const l=c-i,f=50*o*("XX"===t?1.4:1),u=($e[t]||0)*o,a=f*l+(t.length%2==0?f/2:0);Be(t[c],e+a+u,n-3*o,o,r,s)}}function Qe(...t){["10","20","50","II"].includes(t[0])&&(t[3]=.75*t[3]),"XX"===t[0]&&(t[3]=.65*t[3]),"100"===t[0]&&(t[3]=.65*t[3]),qe(...t)}const ze=(...t)=>Qe(ye(),...t);function Je(t,e,n,o,r){const s=ye();qe(s,t+1,e+1,n,o),qe(s,t-1,e-1,n,o),qe(s,t-1,e+1,n,o),qe(s,t+1,e-1,n,o),qe(s,t,e,n,r)}function Ze(t,n,r){const s=ye();Qe(s,t+2,n+2,r,e),Qe(s,t,n,r,C?e:o,C?o:E?i:e)}let tn=parseInt(tokenData.hash.slice(50,66),16);function en(t,e){tn^=tn<<13,tn^=tn>>17;const n=((tn^=tn<<5)<0?1+~tn:tn)%1e3/1e3;return null!=e?t+n*(e-t):null!=t?n*t:n}function nn(t){const e=tokenData.hash.slice(2+2*t,4+2*t);return parseInt(e,16)/255}const on=t=>en()<t,rn=()=>on(.5)?1:-1,sn=t=>t[int(en(t.length))],cn=t=>(t+360)%360,ln=()=>{};function fn(t,e){beginShape(),curveVertex(...e(-1));for(let n=0;n<=t+1;n++)b&&rotate(.1),curveVertex(...e(n));endShape()}const un=(t,e,n=0,o=0)=>[sin(t)*e+n,cos(t)*e+o],an=(t,e,n=window)=>{n.beginShape(),n.curveVertex(...e(-1)),hn(t+2,t=>{n.curveVertex(...Pe(e(t),n))}),n.endShape()};function hn(t,e){for(let n=0;n<t;n++)e(n)};