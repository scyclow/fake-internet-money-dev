let It=e=>{let t=mt()+"";return t[2]!==e?t[2]:It(e)},_t=(e=2)=>mt().toFixed(3).slice(2,2+e);function dt(){let e="";const t=t=>tn(t,()=>e+=_t());if(0===x)t(2),e+=e;else if(1===x)t(2),e+=e.split("").reverse().join("");else if(2===x)t(4),e=e.split("").sort().join("");else if(3===x)t(4),e=e.split("").sort().reverse().join("");else if(4===x)e="00000"+_t(3);else if(5===x)e="99999"+_t(3);else if(6===x){const t=It("0");tn(8,()=>e+=qt(["0",t]))}else t(4);return e}function Ot(e,n){if(V)return;push();const r=dt();fill(o),stroke(t),rect(e,n,O?72:60,20),Gt(r,e+30,n+10,.125,t,c),O&&(fill(c),stroke(c),en(10,t=>Zt(t*TWO_PI/10,t%2==0?2.5:6,e+63,n+10))),pop()}function gt([e,t],n=window){if(A){n.rotate(.1);const o=Bt(.5);return[e+(o?mt(-10,10):0),t+(o?mt(-10,10):0)]}return[e,t]}function St(){const e=mt();if(e<.01)return Ft();const t=p?.5:.25;Mt(()=>{if(e<t){const e=mt(),t=yt()*(e<.75?2:3),n=At({degAdj:t}),o=8+n.radius;Pt(o,n),Bt(.25)&&Pt(o,At({degAdj:-1*t}))}else e<.55?vt(60):e<.8?bt(-10,Bt(.7)):e<.85?Rt(10,int(mt(20,200))):e<.9?Lt(20):wt(20,int(mt(1,7)),yt())})}const Wt=(e,t,n)=>{const o=int(t*j/(2*(j+1))),r=int(t/2-o),s=(G-2*n)/o,i=(X-2*n)/r,c=-X/2+n,l=X/2-n,f=-G/2+n,u=G/2-n,a=o+r,p=2*o+r,h=2*o+2*r;return e<o?[f+e*s,c]:e<a?[u,c+(e-o)*i]:e<p?[u-(e-a)*s,l]:e<h?[f,l-(e-p)*i]:[f+(e-h)*s,c]};function Mt(e){push(),scale(1/K),q.scale(K),q.translate(G/2,X/2),q.noFill(),q.stroke(t),e(),image(q,-G*K/2,-X*K/2),pop()}function Rt(e,t){for(let n=0;n<2;n+=.5)en(t,o=>{const[r,s]=Wt(o+n,t,e),[i,c]=Wt(o+n,t,e+20);return o%2==0?[i,c]:[r,s]},q)}function Lt(e=10){q.strokeWeight(1);const t=2*(G-2*e+(X-2*e))/3;tn(t,n=>{const[o,r]=Wt(n,t,e+3);q.circle(o,r,6)}),en(t,n=>Wt(n,t,e),q),en(t,n=>Wt(n,t,e+6),q)}function At(e){const t=mt(15,31),n=2===abs(e.degAdj)?mt(3,26):mt(1,13);return{radius:t,degAdj:e.degAdj,offsetAmt:n}}function Pt(e,t){const n=t.radius,o=t.degAdj,r=1/t.offsetAmt;for(let t=0;t<2;t+=r)en(67,r=>{const[s,i]=Wt(r+t,66,e);return Zt((r+t)/o*TWO_PI,n,s,i)},q)}function Nt(e,t,n,o=1){const[r,s]=Wt(e,t,n);return Zt(e/5*o*TWO_PI,5,r,s)}function wt(e=20,t=4,n=1){const o=50*t;if(h&&(q.fill(ROSETTE_FILL_C),q.stroke(ROSETTE_STROKE_C)),["NUMISMATIC","VINTAGE","DECO"].includes(a))for(let t=0;t<2;t+=.3333)en(o,r=>{const[s,i]=Nt(r+t,o,e,n),[c,l]=Nt(r+t,o,e+22,n);return r%2==0?[c,l]:[s,i]},q);if(["ECHO","DIGITAL"].includes(a))for(let t=0;t<25;t+=5)en(o,n=>Nt(n,o,e+t),q,n);if(["LINE","DIGITAL"].includes(a))for(let t=0;t<o;t+=.2){const[r,s]=Nt(t,o,e,n),[i,c]=Nt(t,o,e+22,n);q.line(r,s,i,c)}h&&(q.erase(),en(o,t=>Nt(t,o,e+20,n),q),q.noErase())}function bt(e=-10,n=!0){const o=int(mt(1,7));T?(q.push(),tn(100,e=>{q.stroke(lerpColor(ROSETTE_STROKE_C,ROSETTE_FILL_C,(e+75)/150)),q.rectMode(CENTER),q.rect(0,0,G-e,X-e)}),q.pop()):q.background(ROSETTE_FILL_C),q.stroke(ROSETTE_STROKE_C),q.strokeWeight(1.1-o/12);const r=yt(),s=["ECHO","DIGITAL"].includes(a)?6:0;wt(e+2,o,r),wt(e+19+s,o,r),wt(e+36+2*s,o,r);const i=e+(n?35:55);q.stroke(t),q.erase(),q.fill(0),n?q.rect(i-G/2,i-X/2,G-2*i,X-2*i):q.rect(-G/2,i-X/2,G,X-2*i),q.noErase(),q.noFill(),n?(q.rect(i-G/2,i-X/2,G-2*i,X-2*i),Lt(i+5)):q.rect(-G/2,i-X/2,G,X-2*i)}function Ft(e=10){const n=xt();tn(80,o=>{const[r,s]=Wt(o,80,e);Xt(n,r,s,.1,t)})}function vt(e){const n=-X/2,o=X/2,r=-G/2,s=G/2,i=e/1.5,c=mt(1,5),l=int(mt(4,11));q.stroke(t);for(let f=0;f<l;f++)f%2==0&&f!==l-1||q.erase(),q.fill(t),q.strokeWeight(e-f*c),q.line(r,n,s,n),q.line(s,n,s,o),q.line(s,o,r,o),q.line(r,o,r,n),q.circle(r+i,n+i,i),q.circle(r+i,o-i,i),q.circle(s-i,n+i,i),q.circle(s-i,o-i,i),f%2==0&&f!==l-1||q.noErase()}const Ht={1:"I",2:"II",5:"V",10:"X",20:"XX",50:"L",100:"C"};function xt(){const e=mt();return!u||Q&&e<.1?"$":E&&(!z||e<.5)?(z=!0,Ht[u]):(Q=!0,u)}function Vt(e,t,n,o,r,s){push(),translate(t-25*o,n+40*o),scale(o),stroke(r),fill(s||r);let i=!1;beginShape(),nn[e].forEach((e,t)=>{"M"===e[0]?(i&&endContour(),0!==t&&(beginContour(),i=!0),vertex(e[1],e[2])):e.length>2?quadraticVertex(e[2],e[3],e[0],e[1]):vertex(e[0],e[1])}),i&&endContour(),endShape(),pop()}const Dt={V:-14,C:-14,X:-12,XX:-11.5,L:-5.5,I:5.5,II:3.5,$:-3,4:-3,6:-3};function Gt(e,t,n,o,r,s){if(!e)return;const i=floor(e.length/2);for(let c=0;c<e.length;c++){const l=c-i,f=50*o*("XX"===e?1.4:1),u=(Dt[e]||0)*o,a=f*l+(e.length%2==0?f/2:0);Vt(e[c],t+a+u,n-3*o,o,r,s)}}function Xt(...e){["10","20","50","II"].includes(e[0])&&(e[3]=.75*e[3]),"XX"===e[0]&&(e[3]=.65*e[3]),"100"===e[0]&&(e[3]=.65*e[3]),Gt(...e)}const jt=(...e)=>Xt(xt(),...e);function Kt(e,t,n,o,r){const s=xt();Gt(s,e+1,t+1,n,o),Gt(s,e-1,t-1,n,o),Gt(s,e-1,t+1,n,o),Gt(s,e+1,t-1,n,o),Gt(s,e,t,n,r)}function Ut(e,n,r){const s=xt();Xt(s,e+2,n+2,r,t),Xt(s,e,n,r,C?t:o,C?o:T?i:t)}let Yt=parseInt(tokenData.hash.slice(50,66),16);function mt(e,t){Yt^=Yt<<13,Yt^=Yt>>17;const n=((Yt^=Yt<<5)<0?1+~Yt:Yt)%1e3/1e3;return null!=t?e+n*(t-e):null!=e?n*e:n}function $t(e){const t=tokenData.hash.slice(2+2*e,4+2*e);return parseInt(t,16)/255}const Bt=e=>mt()<e,yt=()=>Bt(.5)?1:-1,qt=e=>e[int(mt(e.length))],Qt=e=>(e+360)%360,zt=()=>{};function Jt(e,t){beginShape(),curveVertex(...t(-1));for(let n=0;n<=e+1;n++)A&&rotate(.1),curveVertex(...t(n));endShape()}const Zt=(e,t,n=0,o=0)=>[sin(e)*t+n,cos(e)*t+o],en=(e,t,n=window)=>{n.beginShape(),n.curveVertex(...t(-1)),tn(e+2,e=>{n.curveVertex(...gt(t(e),n))}),n.endShape()};function tn(e,t){for(let n=0;n<e;n++)t(n)};