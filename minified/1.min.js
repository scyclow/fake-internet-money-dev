const te=()=>y?s([ne,re,ie,se,ce]):["NUMISMATIC","DECO"].includes(d)?ne:"ECHO"===d?re:"DIGITAL"===d?ie:"LINE"===d?se:"DENOMINATION"===d?le:W?ce:c;function ee(){Zt(0,0,90,0,ae({fillC:ROSETTE_FILL_C,strokeMod:6}))}function ne(t,e,n=200,o=100,r={},s=window){s.push(),r.strokeC&&s.stroke(r.strokeC),r.fillC&&s.fill(r.fillC);const i=r.strokeMod||1,c=r.points,l=pe(t,e,c,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<6;t++)s.strokeWeight(((r.strokeW||.7)+n/150-1)*i*st),u(c,e=>{const[o,r]=l(n,e,t/3),[s,i]=l(.95*n,e,t/3);return e%2==0?[s,i]:[o,r]},s);let f=n,a=.75*n,p=0;for(;a>=o&&p<20;){s.strokeWeight(((r.strokeW||1)+f/150-1)*st);for(let t=0;t<6;t++)u(c,e=>{const[n,o]=l(f,e,t/3),[r,s]=l(a,e,t/3);return e%2==0?[r,s]:[n,o]},s);(f=1.045*a)<10?a=0:a-.75*a<10?a=f-10:a*=.75,p++}s.pop()}function oe(t,e,n,o,r){"NUMISMATIC"===d&&ne(t,e,n,o,{...r,strokeMod:10}),re(t,e,n,o,r,!0)}function re(t=0,e=0,n=200,o=100,r={},s=!1){push(),r.strokeC&&stroke(r.strokeC),s&&strokeWeight(2),r.strokeW&&strokeWeight(r.strokeW);const i=pe(t,e,r.points,r.c1,r.c2,r.r1,r.r2),c=r.rDiff||(s?1:5);for(let t=o;t<=n;t+=c)!s&&!r.ignoreShrink&&strokeWeight(t*r.strokeW/130),r.innerC&&r.outterC&&stroke(lerpColor(r.innerC,r.outterC,(t-o)/(n-o))),l(r.points,e=>ye(i(t,e)));pop()}function se(t=0,e=0,n=200,o=100,r={}){push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points/2,i=pe(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.2){const[e,r]=ye(i(n,t)),[s,c]=ye(i(o,t));line(s,c,e,r)}pop()}function ie(t=0,e=0,n=200,o=100,r={}){se(t,e,n,o,r),re(t,e,n,o,r)}function ce(t=0,e=0,n=90,o=0,r={}){push(),r.strokeC&&stroke(r.strokeC),r.fillC&&fill(r.fillC),r.strokeW&&strokeWeight(r.strokeW);const s=n/r.r1,i=n/r.r2,c=r.points,l=c/r.c1,a=c/r.c2;u(c,o=>{const r=o/c*TWO_PI,u=o/l*TWO_PI,p=o/a*TWO_PI,h=f(r,n,t,e),[C,T]=f(u,s,h[0],h[1]);return f(p,i,C,T)}),pop()}const le=(t=0,e=0,n=200,o=0,r={})=>{push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points,i=pe(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.5){const[e,o]=i(n,t);hn(O,e,o,.1,ROSETTE_STROKE_C)}pop()},fe=t=>W?ue(t):ae(t),ue=t=>({c1:int(e(1,13))*r(),c2:int(e(170,192))*r(),r1:9,r2:5,strokeC:ROSETTE_STROKE_C,points:360,...t}),ae=t=>({c1:int(e(1,U?25:16))*r(),c2:int(e(1,U?40:13))*r(),r1:U?e(4,10):e(10,20),r2:U?e(4,10):e(10,20),points:70,...t}),pe=(t,e,n,o,r,s,i)=>{const c=n/o,l=n/r;return(o,r,u=0,a=null,p=null)=>{const h=(r+u)/n,C=(r+u)/c,T=(r+u)/l,k=a||1/s,I=p||1/i,E=1-k-I,[_,S]=f(h*TWO_PI,o*E,t,e),[g,O]=f(C*TWO_PI,o*k,_,S);return f(T*TWO_PI,o*I,g,O)}};function he(){switch(w){case 0:Me();break;case 1:Re();break;case 2:_e();break;case 3:Se();break;case 4:ge();break;case 5:Oe();break;case 6:de();break;case 7:We();break;case 8:Ee()}}function Ce(){const t=e();return o(IS_CRYPTO?.125:.01)?0:t<.125?1:t<.25?2:t<.375?3:t<.5?4:t<.625?5:t<.75?6:t<.875?7:8}function Te(){push(),noFill(),strokeWeight(e(.1,.5));for(let t=0;t<40;t++){stroke(M?I:o(.75)?h:_);const t=e(-it/2,it/2),n=e(-ct/2,ct/2),r=t+e(-25,25),s=r+e(-25,25),i=s+e(-25,25),c=n+e(-25,25),l=c+e(-25,25),f=l+e(-25,25);beginShape(),curveVertex(t+e(-20,20),n+e(-20,20)),curveVertex(t,n),curveVertex(r,c),curveVertex(s,l),curveVertex(i,f),endShape()}pop()}function ke(){push();for(let t=-it/2;t<it/2;t+=5)for(let n=-ct/2;n<ct/2;n+=5)strokeWeight(e(1,2)),stroke(color(g,26,25,e(0,40))),point(t+e(-5,5),n+e(-5,5));pop()}function Ie(){push();for(let t=-it/2;t<it/2;t+=5)for(let e=-ct/2;e<ct/2;e+=5)strokeWeight(1),stroke(color(g,99,90,50)),point(t+2,e+2);pop()}function Ee(){push(),strokeWeight(1);for(let t=-it/2;t<it/2;t+=20)for(let n=-ct/2;n<ct/2;n+=20){const r=e(.01,.15),s=o(.3),i=s?0:e(-10,10),c=s?0:e(-10,10);pn(fn(),t+i+10,n+c+10,r,h)}pop()}function _e(){push(),stroke(h),strokeWeight(.5);for(let t=-it/2;t<it/2;t+=10)for(let e=-ct/2;e<ct/2;e+=10)o(.5)?line(t,e,t+10,e+10):line(t+10,e,t,e+10);pop()}function Se(){push(),noFill(),strokeWeight(.5);const t=A||o(.5);for(let e=0,n=0;e<=ct+5;e+=15,n++){const o=e-ct/2;beginShape(),curveVertex(-30-it/2,o-7.5);for(let e=0;e<it/30+2;e++){const r=n%2==0?e%2==0?7.5:-7.5:e%2==0?-7.5:7.5;curveVertex(30*e-it/2,o+r),t&&(fill(I),circle(30*e-it/2,o+r,4),noFill())}endShape()}pop()}function ge(){push(),noFill(),strokeWeight(.5);for(let t=0;t<it;t+=100)for(let e=0;e<ct;e+=100)if(e/100%2==0&&t/100%2==0||e/100%2==1&&t/100%2==1)for(let n=0;n<100;n+=4)line(t-it/2,n+e+2-ct/2,t+100-it/2,n+e+2-ct/2);else for(let n=0;n<100;n+=4)line(n+t+2-it/2,e-ct/2,n+t+2-it/2,e+100-ct/2);pop()}function Oe(){push(),noFill(),strokeWeight(.5);for(let t=-5;t<ct+8;t+=ct/100){const e=t-ct/2;beginShape(),curveVertex(-30-it/2,e-7.5);for(let t=0;t<it/30+2;t++)curveVertex(30*t-it/2,e+(t%2==0?7.5:-7.5));endShape()}pop()}function de(){push(),strokeWeight(.35),A&&fill(LIGHT_ACCENT_C),stroke(C);for(let t=0;t<it;t+=10)for(let n=0;n<ct;n+=10){const r=t-it/2,s=n-ct/2;if(o(.5)){line(r,s,r+10,s+10);const t=e();t<.15?circle(r,s,4):t<.3&&circle(r+10,s+10,4)}else{line(r+20,s,r,s+20);const t=e();t<.15?circle(r+20,s,4):t<.3&&circle(r,s+20,4)}}pop()}function We(){push(),strokeWeight(1),stroke(C);for(let t=-it/2-ct/2;t<ct/2+it/2;t+=5)line(t,-ct/2,ct/2+t,0),line(ct/2+t,0,t,ct/2);pop()}function Re(){push(),strokeWeight(.35),stroke(C);for(let t=-it/2;t<it/2+1;t+=10)for(let e=-ct/2;e<ct/2+1;e+=10)circle(t,e,14);pop()}function Me(){push();const t=int(e(2,5));for(let n=0;n<it;n+=t)for(let o=0;o<ct;o+=t)fill(lerpColor(T,h,e(.75))),noStroke(),rect(it/2-n-t,ct/2-o-t,t,t);pop()}function Le(t=[2,4]){push();const n=W?ne:te(),o=ae({strokeC:h,strokeW:.35}),r=e(0,it/4);t.forEach(t=>n(Ct[t][0],Ct[t][1],it/2,r,o)),pop()}function Ae(){Zt(0,0,it,0)}function Ne(t,e,n=200){push(),strokeWeight(2),fill(T),arc(t,e,.9*n,n,0,TWO_PI),noFill(),pn("$",t-.17*n,e-.125*n,.125,h),pn("$",t+.17*n,e-.125*n,.125,h),circle(t-.17*n,e-.125*n,.1*n),circle(t+.17*n,e-.125*n,.1*n),arc(t,e,.6*n,.7*n,TWO_PI+.15*PI,.85*PI),pop()}function Pe(t,n,o,r=1){push(),scale(r),o&&stroke(o);const s=e();s<.3333?we(t,n):s<.85?Fe(t,n):be(t,n),pop()}function we(t=0,e=0,n=100){const o=1080/s([22,32,32.5,33,34,64,65,66,66.4]);l(1080,r=>{const s=r/1080*TWO_PI,[i,c]=f(s,n/100+abs(75*sin(33*s)),t,e);return f(r/o*TWO_PI,n,i,c)})}function Fe(t=0,e=0,n=100){const o=32*s([7,13,29,31,32,34,35,36,37,44,46,58,59,60,62,85,88,92,96]),r=5*n/6,i=4*n/6;l(o,n=>{const s=n/o*TWO_PI,[c,l]=f(s,r+abs(30*sin(90*s)),t,e);return f(n/32*TWO_PI,.8*i+abs(sin(360*s)),c,l)})}function be(t,e,n=100){r();const o=s([[10,96,2],[10,96,-4],[14,96,2],[15,29,-5],[720,-5,5],[720,6,-3],[720,-4,2],[720,-6,2],[720,-3,3],[720,-15,5],[50,-9,10]]),i=TWO_PI/o[0],c=.4*n,u=TWO_PI/o[1],a=.2*n,p=TWO_PI/o[2];l(720,o=>{const[r,s]=f(o*i,n,t,e),[l,h]=f(o*u,c,r,s);return f(o*p,a,l,h)})}function He(t=0,n=0,r,s=h){push();const i=A?I:T,c=o(.4275),l=e(),f=!c&&o(.5),u=!c&&o(.5),a=!c&&!f&&!u&&o(.5),p=l<.85,C=l>=.85,k=o(.9),E=o(.65),_=o(.65),S=o(.65),g=o(.65),O=o(.65)||!(E||_||S||g),d=!E&&!S&&!O,W=5*r/250,R={tC:f,bC:u,e:c,iE:a,t:p,iT:C,p:k};E&&ve(t,n,r,s,9*W,R),_&&ve(t,n,r,d?s:i,7*W,R),S&&ve(t,n,r,s,5*W,R),g&&ve(t,n,r,d?s:i,3*W,R),O&&ve(t,n,r,s,W,R),pop()}function ve(t,e,n,o,r,{tC:s=!1,bC:i=!1,e:c=!1,iE:l=!1,t:f=!1,iT:u=!1,p:a=!1}){noFill(),strokeWeight(r),stroke(o),f&&Ge(t,e,n,1),u&&Ge(t,e,n,-1),c&&De(t,e,n,130),l&&De(t,e,n,230),a&&point(t,e,0),s&&xe(t,e,n,1),i&&xe(t,e,n,0)}function xe(t,e,n,o=1){const{centerW:r}=Ve(n),s=r/sin(radians(65)),i=cos(radians((1===o?235:124)/2))*(r/2);circle(t,e+i,s)}function Ve(t){const e=sin(radians(60))*t,n=tan(radians(30))*t/2;return{tHeight:e,heightOfCenter:n,centerW:tan(radians(30))*(e-n)*2}}function De(t,e,n,o,r=1){const{centerW:s}=Ve(n),i=s*r/sin(radians(o/2)),c=cos(radians(o/2))*(i/2);arc(t,e+c,i,i,radians(270-o/2),radians(270+o/2),OPEN),arc(t,e-c,i,i,radians(90-o/2),radians(90+o/2),OPEN)}function Ge(t,e,n,o=1){const{tHeight:r,heightOfCenter:s}=Ve(n);triangle(t-n/2,e+s*o,t+n/2,e+s*o,t,e+(r-s)*-o)}function Ke(t,n,r,s){if(nt)return;push(),noFill(),strokeWeight(1.5);let i=t-8*r,c=n+r/2;const l=[[i-e(r),c-e(r)],[i,c]];a(8,()=>{const t=o(.75),n=i+r*(1+.1*(t?-7:7))/2,s=c+(t?o(.85)?r*e(0,.3):r*e(1,1.5):-1*(o(.5)?r*e(0,.3):r*e(1,1.5))),f=i+r*e(.9,1.1),u=c+r*e(-.1,.1);l.push([n,s]),l.push([f,u]),i=f,c=u}),l.push([i+e(r),c+e(r)]),s?stroke(h):stroke(T),beginShape(),l.forEach(([t,e])=>curveVertex(t+1,e+1)),endShape(),s?stroke(_):stroke(h),beginShape(),l.forEach(([t,e])=>curveVertex(t,e)),endShape(),pop()}let Ye=t=>{let n=e()+"";return n[2]!==t?n[2]:Ye(t)},Xe=(t=2)=>e().toFixed(3).slice(2,2+t);function je(){let t="";const e=e=>a(e,()=>t+=Xe());if(0===et)e(2),t+=t;else if(1===et)e(2),t+=t.split("").reverse().join("");else if(2===et)e(4),t=t.split("").sort().join("");else if(3===et)e(4),t=t.split("").sort().reverse().join("");else if(4===et)t="00000"+Xe(3);else if(5===et)t="99999"+Xe(3);else if(6===et){const e=Ye("0");a(8,()=>t+=s(["0",e]))}else e(4);return t}function Ue(t,e){if(nt)return;push();const n=je();fill(T),stroke(h),rect(t,e,v?72:60,20),pn(n,t+30,e+10,.125,h,_),v&&(fill(_),stroke(_),u(10,n=>f(n*TWO_PI/10,n%2==0?2.5:6,t+63,e+10))),pop()}const me=o(.5);function ye([t,n],o=window){return m?(o.rotate(.1),[t+(me?0:e(-10,10)),n+(me?0:e(-10,10))]):[t,n]}const Be=20;function $e(t){push(),strokeWeight(2);const e=o(.3),n=Be/2;for(let o=0;o<ct;o++)stroke(lerpColor(color(hue(_),saturation(_),lightness(_),50),color(hue(E),saturation(E),lightness(E),50),o/ct)),e&&int(o/50)%3==0?c():line(t-n,o+pt,t+n,o+pt);pop()}function qe(){const t=e();if(t<.02)return sn();const n=W?.5:.25;ze(()=>{if(t<n){const t=e(),n=r()*(t<.75?2:3),s=tn({degAdj:n}),i=8+s.radius;en(i,s),o(.25)&&en(i,tn({degAdj:-1*n}))}else t<.55?cn(60):t<.8?rn(-10,o(.7)):t<.85?Je(10,int(e(20,200))):t<.9?Ze(20):on(20,int(e(1,7)),r())})}const Qe=(t,e,n)=>{const o=int(e*lt/(2*(lt+1))),r=int(e/2-o),s=(it-2*n)/o,i=(ct-2*n)/r,c=-ct/2+n,l=ct/2-n,f=-it/2+n,u=it/2-n,a=o+r,p=2*o+r,h=2*o+2*r;return t<o?[f+t*s,c]:t<a?[u,c+(t-o)*i]:t<p?[u-(t-a)*s,l]:t<h?[f,l-(t-p)*i]:[f+(t-h)*s,c]};function ze(t){push(),kt.translate(it/2,ct/2),kt.noFill(),kt.stroke(h),t(),image(kt,-it/2,-ct/2),pop()}function Je(t,e){for(let n=0;n<2;n+=.5)u(e,o=>{const[r,s]=Qe(o+n,e,t),[i,c]=Qe(o+n,e,t+20);return o%2==0?[i,c]:[r,s]},kt)}function Ze(t=10){kt.strokeWeight(1*st);const e=2*(it-2*t+(ct-2*t))/3;a(e,n=>{const[o,r]=Qe(n,e,t+3);kt.circle(o,r,6)}),u(e,n=>Qe(n,e,t),kt),u(e,n=>Qe(n,e,t+6),kt)}function tn(t){const n=e(15,31),o=2===abs(t.degAdj)?e(3,26):e(1,13);return{radius:n,degAdj:t.degAdj,offsetAmt:o}}function en(t,e){const n=e.radius,o=e.degAdj,r=1/e.offsetAmt;kt.strokeWeight(.6*st);for(let e=0;e<2;e+=r)u(67,r=>{const[s,i]=Qe(r+e,66,t);return f((r+e)/o*TWO_PI,n,s,i)},kt)}function nn(t,e,n,o=1){const[r,s]=Qe(t,e,n);return f(t/5*o*TWO_PI,5,r,s)}function on(t=20,e=4,n=1){const o=50*e;if(R&&(kt.fill(ROSETTE_FILL_C),kt.stroke(ROSETTE_STROKE_C)),["NUMISMATIC","VINTAGE","DECO"].includes(d))for(let e=0;e<2;e+=.3333)u(o,r=>{const[s,i]=nn(r+e,o,t,n),[c,l]=nn(r+e,o,t+22,n);return r%2==0?[c,l]:[s,i]},kt);if(["ECHO","DIGITAL"].includes(d))for(let e=0;e<25;e+=5)u(o,n=>nn(n,o,t+e),kt,n);if(["LINE","DIGITAL"].includes(d))for(let e=0;e<o;e+=.2){const[r,s]=nn(e,o,t,n),[i,c]=nn(e,o,t+22,n);kt.line(r,s,i,c)}if(R){const e=e=>u(o,r=>nn(r,o,t+e,n),kt);e(19),kt.erase(),e(20),kt.noErase()}}function rn(t=-10,n=!0){const o=int(e(1,7));A?(kt.push(),a(100,t=>{kt.stroke(lerpColor(ROSETTE_STROKE_C,ROSETTE_FILL_C,(t+75)/150)),kt.rectMode(CENTER),kt.rect(0,0,it-t,ct-t)}),kt.pop()):kt.background(ROSETTE_FILL_C),kt.stroke(ROSETTE_STROKE_C),kt.strokeWeight(1.1*st-o/12);const s=r(),i=["ECHO","DIGITAL"].includes(d)?6:0;on(t+2,o,s),on(t+19+i,o,s),on(t+36+2*i,o,s);const c=t+(n?35:55);kt.stroke(h),kt.erase(),kt.fill(0),n?kt.rect(c-it/2,c-ct/2,it-2*c,ct-2*c):kt.rect(-it/2,c-ct/2,it,ct-2*c),kt.noErase(),kt.noFill(),n?(kt.rect(c-it/2,c-ct/2,it-2*c,ct-2*c),Ze(c+5)):kt.rect(-it/2,c-ct/2,it,ct-2*c)}function sn(t=10){const e=fn();a(80,n=>{const[o,r]=Qe(n,80,t);hn(e,o,r,.1,h)})}function cn(t){const n=-ct/2,o=ct/2,r=-it/2,s=it/2,i=t/1.5,c=e(1,5),l=int(e(4,11));kt.stroke(h);for(let e=0;e<l;e++)e%2==0&&e!==l-1||kt.erase(),kt.fill(h),kt.strokeWeight(t*st-e*c),kt.line(r,n,s,n),kt.line(s,n,s,o),kt.line(s,o,r,o),kt.line(r,o,r,n),kt.circle(r+i,n+i,i),kt.circle(r+i,o-i,i),kt.circle(s-i,n+i,i),kt.circle(s-i,o-i,i),e%2==0&&e!==l-1||kt.noErase()}const ln={1:"I",2:"II",5:"V",10:"X",20:"XX",50:"L",100:"C"};function fn(){const t=e();return!O||It&&t<.1?"$":N&&(!Et||t<.5)?(Et=!0,ln[O]):(It=!0,O)}function un(t,e,n,o,r,s){push(),translate(e-25*o,n+40*o),scale(o),stroke(r),fill(s||r);let i=!1;beginShape(),In[t].forEach((t,e)=>{"M"===t[0]?(i&&endContour(),0!==e&&(beginContour(),i=!0),vertex(t[1],t[2])):t.length>2?quadraticVertex(t[2],t[3],t[0],t[1]):vertex(t[0],t[1])}),i&&endContour(),endShape(),pop()}const an={V:-14,C:-14,X:-12,XX:-11.5,L:-5.5,I:5.5,II:3.5,$:-3,4:-3,6:-3};function pn(t,e,n,o,r,s){if(!t)return;const i=floor(t.length/2);for(let c=0;c<t.length;c++){const l=c-i,f=50*o*("XX"===t?1.4:1),u=(an[t]||0)*o,a=f*l+(t.length%2==0?f/2:0);un(t[c],e+a+u,n-3*o,o,r,s)}}function hn(...t){["10","20","50","II"].includes(t[0])&&(t[3]=.75*t[3]),"XX"===t[0]&&(t[3]=.65*t[3]),"100"===t[0]&&(t[3]=.65*t[3]),pn(...t)}const Cn=(...t)=>hn(fn(),...t);function Tn(t,e,n,o,r){const s=fn();pn(s,t+1,e+1,n,o),pn(s,t-1,e-1,n,o),pn(s,t-1,e+1,n,o),pn(s,t+1,e-1,n,o),pn(s,t,e,n,r)}function kn(t,e,n){const o=fn();hn(o,t+2,e+2,n,h),hn(o,t,e,n,M?h:T,M?T:A?E:h)};