const Xt=()=>H?un([Ut,yt,$t,Bt,qt]):["NUMISMATIC","DECO"].includes(a)?Ut:"ECHO"===a?yt:"DIGITAL"===a?$t:"LINE"===a?Bt:"DENOMINATION"===a?Qt:p?qt:pn;function jt(){Yt(0,0,90,0,Zt({fillC:ROSETTE_FILL_C,strokeMod:6}))}function Ut(t,e,n=200,o=100,r={},s=window){s.push(),r.strokeC&&s.stroke(r.strokeC),r.fillC&&s.fill(r.fillC);const i=r.strokeMod||1,c=r.points,l=te(t,e,c,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<6;t++)s.strokeWeight(((r.strokeW||.7)+n/150-1)*i*B),Tn(c,e=>{const[o,r]=l(n,e,t/3),[s,i]=l(.95*n,e,t/3);return e%2==0?[s,i]:[o,r]},s);let f=n,u=.75*n,a=0;for(;u>=o&&a<20;){s.strokeWeight(((r.strokeW||1)+f/150-1)*B);for(let t=0;t<6;t++)Tn(c,e=>{const[n,o]=l(f,e,t/3),[r,s]=l(u,e,t/3);return e%2==0?[r,s]:[n,o]},s);(f=1.045*u)<10?u=0:u-.75*u<10?u=f-10:u*=.75,a++}s.pop()}function mt(t,e,n,o,r){"NUMISMATIC"===a&&Ut(t,e,n,o,{...r,strokeMod:10}),yt(t,e,n,o,r,!0)}function yt(t=0,e=0,n=200,o=100,r={},s=!1){push(),r.strokeC&&stroke(r.strokeC),s&&strokeWeight(2),r.strokeW&&strokeWeight(r.strokeW);const i=te(t,e,r.points,r.c1,r.c2,r.r1,r.r2),c=r.rDiff||(s?1:5);for(let t=o;t<=n;t+=c)!s&&!r.ignoreShrink&&strokeWeight(t*r.strokeW/130),r.innerC&&r.outterC&&stroke(lerpColor(r.innerC,r.outterC,(t-o)/(n-o))),hn(r.points,e=>He(i(t,e)));pop()}function Bt(t=0,e=0,n=200,o=100,r={}){push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points/2,i=te(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.2){const[e,r]=He(i(n,t)),[s,c]=He(i(o,t));line(s,c,e,r)}pop()}function $t(t=0,e=0,n=200,o=100,r={}){Bt(t,e,n,o,r),yt(t,e,n,o,r)}function qt(t=0,e=0,n=90,o=0,r={}){push(),r.strokeC&&stroke(r.strokeC),r.fillC&&fill(r.fillC),r.strokeW&&strokeWeight(r.strokeW);const s=n/r.r1,i=n/r.r2,c=r.points,l=c/r.c1,f=c/r.c2;Tn(c,o=>{const r=o/c*TWO_PI,u=o/l*TWO_PI,a=o/f*TWO_PI,p=Cn(r,n,t,e),[h,C]=Cn(u,s,p[0],p[1]);return Cn(a,i,h,C)}),pop()}const Qt=(t=0,e=0,n=200,o=0,r={})=>{push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points,i=te(t,e,s,r.c1,r.c2,r.r1,r.r2);for(let t=0;t<s;t+=.5){const[e,o]=i(n,t);tn(u,e,o,.1,ROSETTE_STROKE_C)}pop()},zt=t=>p?Jt(t):Zt(t),Jt=t=>({c1:int(sn(1,13))*fn(),c2:int(sn(170,192))*fn(),r1:9,r2:5,strokeC:ROSETTE_STROKE_C,points:360,...t}),Zt=t=>({c1:int(sn(1,F?25:16))*fn(),c2:int(sn(1,F?40:13))*fn(),r1:F?sn(4,10):sn(10,20),r2:F?sn(4,10):sn(10,20),points:70,...t}),te=(t,e,n,o,r,s,i)=>{const c=n/o,l=n/r;return(o,r,f=0,u=null,a=null)=>{const p=(r+f)/n,h=(r+f)/c,C=(r+f)/l,T=u||1/s,k=a||1/i,I=1-T-k,[E,_]=Cn(p*TWO_PI,o*I,t,e),[S,g]=Cn(h*TWO_PI,o*T,E,_);return Cn(C*TWO_PI,o*k,S,g)}};function ee(){switch(_){case 0:Ce();break;case 1:he();break;case 2:ce();break;case 3:le();break;case 4:fe();break;case 5:ue();break;case 6:ae();break;case 7:pe();break;case 8:ie()}}function ne(){const t=sn();return ln(IS_CRYPTO?.125:.01)?0:t<.125?1:t<.25?2:t<.375?3:t<.5?4:t<.625?5:t<.75?6:t<.875?7:8}function oe(){push(),noFill(),strokeWeight(sn(.1,.5));for(let t=0;t<40;t++){stroke(C?s:ln(.75)?e:c);const t=sn(-$/2,$/2),n=sn(-q/2,q/2),o=t+sn(-25,25),r=o+sn(-25,25),i=r+sn(-25,25),l=n+sn(-25,25),f=l+sn(-25,25),u=f+sn(-25,25);beginShape(),curveVertex(t+sn(-20,20),n+sn(-20,20)),curveVertex(t,n),curveVertex(o,l),curveVertex(r,f),curveVertex(i,u),endShape()}pop()}function re(){push();for(let t=-$/2;t<$/2;t+=5)for(let e=-q/2;e<q/2;e+=5)strokeWeight(sn(1,2)),stroke(color(f,26,25,sn(0,40))),point(t+sn(-5,5),e+sn(-5,5));pop()}function se(){push();for(let t=-$/2;t<$/2;t+=5)for(let e=-q/2;e<q/2;e+=5)strokeWeight(1),stroke(color(f,99,90,50)),point(t+2,e+2);pop()}function ie(){push(),strokeWeight(1);for(let t=-$/2;t<$/2;t+=20)for(let n=-q/2;n<q/2;n+=20){const o=sn(.01,.15),r=ln(.3),s=r?0:sn(-10,10),i=r?0:sn(-10,10);Ze(Qe(),t+s+10,n+i+10,o,e)}pop()}function ce(){push(),stroke(e),strokeWeight(.5);for(let t=-$/2;t<$/2;t+=10)for(let e=-q/2;e<q/2;e+=10)ln(.5)?line(t,e,t+10,e+10):line(t+10,e,t,e+10);pop()}function le(){push(),noFill(),strokeWeight(.5);const t=k||ln(.5);for(let e=0,n=0;e<=q+5;e+=15,n++){const o=e-q/2;beginShape(),curveVertex(-30-$/2,o-7.5);for(let e=0;e<$/30+2;e++){const r=n%2==0?e%2==0?7.5:-7.5:e%2==0?-7.5:7.5;curveVertex(30*e-$/2,o+r),t&&(fill(s),circle(30*e-$/2,o+r,4),noFill())}endShape()}pop()}function fe(){push(),noFill(),strokeWeight(.5);for(let t=0;t<$;t+=100)for(let e=0;e<q;e+=100)if(e/100%2==0&&t/100%2==0||e/100%2==1&&t/100%2==1)for(let n=0;n<100;n+=4)line(t-$/2,n+e+2-q/2,t+100-$/2,n+e+2-q/2);else for(let n=0;n<100;n+=4)line(n+t+2-$/2,e-q/2,n+t+2-$/2,e+100-q/2);pop()}function ue(){push(),noFill(),strokeWeight(.5);for(let t=-5;t<q+8;t+=q/100){const e=t-q/2;beginShape(),curveVertex(-30-$/2,e-7.5);for(let t=0;t<$/30+2;t++)curveVertex(30*t-$/2,e+(t%2==0?7.5:-7.5));endShape()}pop()}function ae(){push(),strokeWeight(.35),k&&fill(LIGHT_ACCENT_C),stroke(n);for(let t=0;t<$;t+=10)for(let e=0;e<q;e+=10){const n=t-$/2,o=e-q/2;if(ln(.5)){line(n,o,n+10,o+10);const t=sn();t<.15?circle(n,o,4):t<.3&&circle(n+10,o+10,4)}else{line(n+20,o,n,o+20);const t=sn();t<.15?circle(n+20,o,4):t<.3&&circle(n,o+20,4)}}pop()}function pe(){push(),strokeWeight(1),stroke(n);for(let t=-$/2-q/2;t<q/2+$/2;t+=5)line(t,-q/2,q/2+t,0),line(q/2+t,0,t,q/2);pop()}function he(){push(),strokeWeight(.35),stroke(n);for(let t=-$/2;t<$/2+1;t+=10)for(let e=-q/2;e<q/2+1;e+=10)circle(t,e,14);pop()}function Ce(){push();const t=int(sn(2,5));for(let n=0;n<$;n+=t)for(let r=0;r<q;r+=t)fill(lerpColor(o,e,sn(.75))),noStroke(),rect($/2-n-t,q/2-r-t,t,t);pop()}function Te(t=[2,4]){push();const n=p?Ut:Xt(),o=Zt({strokeC:e,strokeW:.35}),r=sn(0,$/4);t.forEach(t=>n(nt[t][0],nt[t][1],$/2,r,o)),pop()}function ke(){Yt(0,0,$,0)}function Ie(t,n,r=200){push(),strokeWeight(2),fill(o),arc(t,n,.9*r,r,0,TWO_PI),noFill(),Ze("$",t-.17*r,n-.125*r,.125,e),Ze("$",t+.17*r,n-.125*r,.125,e),circle(t-.17*r,n-.125*r,.1*r),circle(t+.17*r,n-.125*r,.1*r),arc(t,n,.6*r,.7*r,TWO_PI+.15*PI,.85*PI),pop()}function Ee(t,e,n,o=1){push(),scale(o),n&&stroke(n);const r=sn();r<.3333?_e(t,e):r<.85?Se(t,e):ge(t,e),pop()}function _e(t=0,e=0,n=100){const o=1080/un([22,32,32.5,33,34,64,65,66,66.4]);hn(1080,r=>{const s=r/1080*TWO_PI,[i,c]=Cn(s,n/100+abs(75*sin(33*s)),t,e);return Cn(r/o*TWO_PI,n,i,c)})}function Se(t=0,e=0,n=100){const o=32*un([7,13,29,31,32,34,35,36,37,44,46,58,59,60,62,85,88,92,96]),r=5*n/6,s=4*n/6;hn(o,n=>{const i=n/o*TWO_PI,[c,l]=Cn(i,r+abs(30*sin(90*i)),t,e);return Cn(n/32*TWO_PI,.8*s+abs(sin(360*i)),c,l)})}function ge(t,e,n=100){fn();const o=un([[10,96,2],[10,96,-4],[14,96,2],[15,29,-5],[720,-5,5],[720,6,-3],[720,-4,2],[720,-6,2],[720,-3,3],[720,-15,5],[50,-9,10]]),r=TWO_PI/o[0],s=.4*n,i=TWO_PI/o[1],c=.2*n,l=TWO_PI/o[2];hn(720,o=>{const[f,u]=Cn(o*r,n,t,e),[a,p]=Cn(o*i,s,f,u);return Cn(o*l,c,a,p)})}function Oe(t=0,n=0,r,i=e){push();const c=k?s:o,l=ln(.4275),f=sn(),u=!l&&ln(.5),a=!l&&ln(.5),p=!l&&!u&&!a&&ln(.5),h=f<.85,C=f>=.85,T=ln(.9),I=ln(.65),E=ln(.65),_=ln(.65),S=ln(.65),g=ln(.65)||!(I||E||_||S),O=!I&&!_&&!g,d=5*r/250,W={tC:u,bC:a,e:l,iE:p,t:h,iT:C,p:T};I&&de(t,n,r,i,9*d,W),E&&de(t,n,r,O?i:c,7*d,W),_&&de(t,n,r,i,5*d,W),S&&de(t,n,r,O?i:c,3*d,W),g&&de(t,n,r,i,d,W),pop()}function de(t,e,n,o,r,{tC:s=!1,bC:i=!1,e:c=!1,iE:l=!1,t:f=!1,iT:u=!1,p:a=!1}){noFill(),strokeWeight(r),stroke(o),f&&Le(t,e,n,1),u&&Le(t,e,n,-1),c&&Me(t,e,n,130),l&&Me(t,e,n,230),a&&point(t,e,0),s&&We(t,e,n,1),i&&We(t,e,n,0)}function We(t,e,n,o=1){const{centerW:r}=Re(n),s=r/sin(radians(65)),i=cos(radians((1===o?235:124)/2))*(r/2);circle(t,e+i,s)}function Re(t){const e=sin(radians(60))*t,n=tan(radians(30))*t/2;return{tHeight:e,heightOfCenter:n,centerW:tan(radians(30))*(e-n)*2}}function Me(t,e,n,o,r=1){const{centerW:s}=Re(n),i=s*r/sin(radians(o/2)),c=cos(radians(o/2))*(i/2);arc(t,e+c,i,i,radians(270-o/2),radians(270+o/2),OPEN),arc(t,e-c,i,i,radians(90-o/2),radians(90+o/2),OPEN)}function Le(t,e,n,o=1){const{tHeight:r,heightOfCenter:s}=Re(n);triangle(t-n/2,e+s*o,t+n/2,e+s*o,t,e+(r-s)*-o)}function Ae(t,n,r,s){if(U)return;push(),noFill(),strokeWeight(1.5);let i=t-8*r,l=n+r/2;const f=[[i-sn(r),l-sn(r)],[i,l]];kn(8,()=>{const t=ln(.75),e=i+r*(1+.1*(t?-7:7))/2,n=l+(t?ln(.85)?r*sn(0,.3):r*sn(1,1.5):-1*(ln(.5)?r*sn(0,.3):r*sn(1,1.5))),o=i+r*sn(.9,1.1),s=l+r*sn(-.1,.1);f.push([e,n]),f.push([o,s]),i=o,l=s}),f.push([i+sn(r),l+sn(r)]),s?stroke(e):stroke(o),beginShape(),f.forEach(([t,e])=>curveVertex(t+1,e+1)),endShape(),s?stroke(c):stroke(e),beginShape(),f.forEach(([t,e])=>curveVertex(t,e)),endShape(),pop()}let Ne=t=>{let e=sn()+"";return e[2]!==t?e[2]:Ne(t)},Pe=(t=2)=>sn().toFixed(3).slice(2,2+t);function we(){let t="";const e=e=>kn(e,()=>t+=Pe());if(0===j)e(2),t+=t;else if(1===j)e(2),t+=t.split("").reverse().join("");else if(2===j)e(4),t=t.split("").sort().join("");else if(3===j)e(4),t=t.split("").sort().reverse().join("");else if(4===j)t="00000"+Pe(3);else if(5===j)t="99999"+Pe(3);else if(6===j){const e=Ne("0");kn(8,()=>t+=un(["0",e]))}else e(4);return t}function Fe(t,n){if(U)return;push();const r=we();fill(o),stroke(e),rect(t,n,d?72:60,20),Ze(r,t+30,n+10,.125,e,c),d&&(fill(c),stroke(c),Tn(10,e=>Cn(e*TWO_PI/10,e%2==0?2.5:6,t+63,n+10))),pop()}const be=ln(.5);function He([t,e],n=window){return b?(n.rotate(.1),[t+(be?0:sn(-10,10)),e+(be?0:sn(-10,10))]):[t,e]}const ve=20;function xe(t){push(),strokeWeight(2);const e=ln(.3),n=ve/2;for(let o=0;o<q;o++)stroke(lerpColor(color(hue(c),saturation(c),lightness(c),50),color(hue(i),saturation(i),lightness(i),50),o/q)),e&&int(o/50)%3==0?pn():line(t-n,o+tt,t+n,o+tt);pop()}function Ve(){const t=sn();if(t<.02)return Be();const e=p?.5:.25;Ge(()=>{if(t<e){const t=sn(),e=fn()*(t<.75?2:3),n=Xe({degAdj:e}),o=8+n.radius;je(o,n),ln(.25)&&je(o,Xe({degAdj:-1*e}))}else t<.55?$e(60):t<.8?ye(-10,ln(.7)):t<.85?Ke(10,int(sn(20,200))):t<.9?Ye(20):me(20,int(sn(1,7)),fn())})}const De=(t,e,n)=>{const o=int(e*Q/(2*(Q+1))),r=int(e/2-o),s=($-2*n)/o,i=(q-2*n)/r,c=-q/2+n,l=q/2-n,f=-$/2+n,u=$/2-n,a=o+r,p=2*o+r,h=2*o+2*r;return t<o?[f+t*s,c]:t<a?[u,c+(t-o)*i]:t<p?[u-(t-a)*s,l]:t<h?[f,l-(t-p)*i]:[f+(t-h)*s,c]};function Ge(t){push(),rt.translate($/2,q/2),rt.noFill(),rt.stroke(e),t(),image(rt,-$/2,-q/2),pop()}function Ke(t,e){for(let n=0;n<2;n+=.5)Tn(e,o=>{const[r,s]=De(o+n,e,t),[i,c]=De(o+n,e,t+20);return o%2==0?[i,c]:[r,s]},rt)}function Ye(t=10){rt.strokeWeight(1*B);const e=2*($-2*t+(q-2*t))/3;kn(e,n=>{const[o,r]=De(n,e,t+3);rt.circle(o,r,6)}),Tn(e,n=>De(n,e,t),rt),Tn(e,n=>De(n,e,t+6),rt)}function Xe(t){const e=sn(15,31),n=2===abs(t.degAdj)?sn(3,26):sn(1,13);return{radius:e,degAdj:t.degAdj,offsetAmt:n}}function je(t,e){const n=e.radius,o=e.degAdj,r=1/e.offsetAmt;rt.strokeWeight(.6*B);for(let e=0;e<2;e+=r)Tn(67,r=>{const[s,i]=De(r+e,66,t);return Cn((r+e)/o*TWO_PI,n,s,i)},rt)}function Ue(t,e,n,o=1){const[r,s]=De(t,e,n);return Cn(t/5*o*TWO_PI,5,r,s)}function me(t=20,e=4,n=1){const o=50*e;if(h&&(rt.fill(ROSETTE_FILL_C),rt.stroke(ROSETTE_STROKE_C)),["NUMISMATIC","VINTAGE","DECO"].includes(a))for(let e=0;e<2;e+=.3333)Tn(o,r=>{const[s,i]=Ue(r+e,o,t,n),[c,l]=Ue(r+e,o,t+22,n);return r%2==0?[c,l]:[s,i]},rt);if(["ECHO","DIGITAL"].includes(a))for(let e=0;e<25;e+=5)Tn(o,n=>Ue(n,o,t+e),rt,n);if(["LINE","DIGITAL"].includes(a))for(let e=0;e<o;e+=.2){const[r,s]=Ue(e,o,t,n),[i,c]=Ue(e,o,t+22,n);rt.line(r,s,i,c)}if(h){const e=e=>Tn(o,r=>Ue(r,o,t+e,n),rt);e(19),rt.erase(),e(20),rt.noErase()}}function ye(t=-10,n=!0){const o=int(sn(1,7));k?(rt.push(),kn(100,t=>{rt.stroke(lerpColor(ROSETTE_STROKE_C,ROSETTE_FILL_C,(t+75)/150)),rt.rectMode(CENTER),rt.rect(0,0,$-t,q-t)}),rt.pop()):rt.background(ROSETTE_FILL_C),rt.stroke(ROSETTE_STROKE_C),rt.strokeWeight(1.1*B-o/12);const r=fn(),s=["ECHO","DIGITAL"].includes(a)?6:0;me(t+2,o,r),me(t+19+s,o,r),me(t+36+2*s,o,r);const i=t+(n?35:55);rt.stroke(e),rt.erase(),rt.fill(0),n?rt.rect(i-$/2,i-q/2,$-2*i,q-2*i):rt.rect(-$/2,i-q/2,$,q-2*i),rt.noErase(),rt.noFill(),n?(rt.rect(i-$/2,i-q/2,$-2*i,q-2*i),Ye(i+5)):rt.rect(-$/2,i-q/2,$,q-2*i)}function Be(t=10){const n=Qe();kn(80,o=>{const[r,s]=De(o,80,t);tn(n,r,s,.1,e)})}function $e(t){const n=-q/2,o=q/2,r=-$/2,s=$/2,i=t/1.5,c=sn(1,5),l=int(sn(4,11));rt.stroke(e);for(let f=0;f<l;f++)f%2==0&&f!==l-1||rt.erase(),rt.fill(e),rt.strokeWeight(t*B-f*c),rt.line(r,n,s,n),rt.line(s,n,s,o),rt.line(s,o,r,o),rt.line(r,o,r,n),rt.circle(r+i,n+i,i),rt.circle(r+i,o-i,i),rt.circle(s-i,n+i,i),rt.circle(s-i,o-i,i),f%2==0&&f!==l-1||rt.noErase()}const qe={1:"I",2:"II",5:"V",10:"X",20:"XX",50:"L",100:"C"};function Qe(){const t=sn();return!u||st&&t<.1?"$":I&&(!it||t<.5)?(it=!0,qe[u]):(st=!0,u)}function ze(t,e,n,o,r,s){push(),translate(e-25*o,n+40*o),scale(o),stroke(r),fill(s||r);let i=!1;beginShape(),In[t].forEach((t,e)=>{"M"===t[0]?(i&&endContour(),0!==e&&(beginContour(),i=!0),vertex(t[1],t[2])):t.length>2?quadraticVertex(t[2],t[3],t[0],t[1]):vertex(t[0],t[1])}),i&&endContour(),endShape(),pop()}const Je={V:-14,C:-14,X:-12,XX:-11.5,L:-5.5,I:5.5,II:3.5,$:-3,4:-3,6:-3};function Ze(t,e,n,o,r,s){if(!t)return;const i=floor(t.length/2);for(let c=0;c<t.length;c++){const l=c-i,f=50*o*("XX"===t?1.4:1),u=(Je[t]||0)*o,a=f*l+(t.length%2==0?f/2:0);ze(t[c],e+a+u,n-3*o,o,r,s)}}function tn(...t){["10","20","50","II"].includes(t[0])&&(t[3]=.75*t[3]),"XX"===t[0]&&(t[3]=.65*t[3]),"100"===t[0]&&(t[3]=.65*t[3]),Ze(...t)}const en=(...t)=>tn(Qe(),...t);function nn(t,e,n,o,r){const s=Qe();Ze(s,t+1,e+1,n,o),Ze(s,t-1,e-1,n,o),Ze(s,t-1,e+1,n,o),Ze(s,t+1,e-1,n,o),Ze(s,t,e,n,r)}function on(t,n,r){const s=Qe();tn(s,t+2,n+2,r,e),tn(s,t,n,r,C?e:o,C?o:k?i:e)}let rn=parseInt(tokenData.hash.slice(50,58),16);function sn(t,e){rn^=rn<<13,rn^=rn>>17;const n=((rn^=rn<<5)<0?1+~rn:rn)%1e3/1e3;return null!=e?t+n*(e-t):null!=t?n*t:n}function cn(t){const e=tokenData.hash.slice(2+2*t,4+2*t);return parseInt(e,16)/255}const ln=t=>sn()<t,fn=()=>ln(.5)?1:-1,un=t=>t[int(sn(t.length))],an=t=>(t+360)%360,pn=()=>{};function hn(t,e){beginShape(),curveVertex(...e(-1));for(let n=0;n<=t+1;n++)b&&rotate(.1),curveVertex(...e(n));endShape()}const Cn=(t,e,n=0,o=0)=>[sin(t)*e+n,cos(t)*e+o],Tn=(t,e,n=window)=>{n.beginShape(),n.curveVertex(...e(-1)),kn(t+2,t=>{n.curveVertex(...He(e(t),n))}),n.endShape()};function kn(t,e){for(let n=0;n<t;n++)e(n)};