let t=parseInt(tokenData.hash.slice(50,58),16);function o(o,e){t^=t<<13,t^=t>>17;const n=((t^=t<<5)<0?1+~t:t)%1e3/1e3;return null!=e?o+n*(e-o):null!=o?n*o:n}function e(t){const o=tokenData.hash.slice(2+2*t,4+2*t);return parseInt(o,16)/255}const n=t=>o()<t,r=()=>n(.5)?1:-1,s=t=>t[int(o(t.length))],c=t=>(t+360)%360,i=()=>{};function l(t,o){beginShape(),curveVertex(...o(-1));for(let e=0;e<=t+1;e++)K&&rotate(.1),curveVertex(...o(e));endShape()}const f=(t,o,e=0,n=0)=>[sin(t)*o+e,cos(t)*o+n],u=(t,o,e=window)=>{e.beginShape(),e.curveVertex(...o(-1)),h(t+2,t=>{e.curveVertex(...be(o(t),e))}),e.endShape()};function h(t,o){for(let e=0;e<t;e++)o(e)}let p,a,k,g,W,d,I,C,M,T,O,A,S,w,E,P,b,v,x,N,D,L,V,_,F,R,H,X,j,G,U,m,B,$,y,Y,q,Q,z,J,K,Z,tt,ot,et,nt,rt,st,ct,it,lt,ft,ut,ht,pt,at,kt,gt,Wt,dt,It=1;const Ct=700,Mt=400,Tt=Ct/Mt,Ot=4,At=-Ct/2,St=Ct/2,wt=-Mt/2,Et=Mt/2,Pt={1:[At,wt],2:[St,wt],3:[At,Et],4:[St,Et]};let bt,vt,xt=!1,Nt=!1;function setup(){const t=window.innerWidth/window.innerHeight;Tt<t?(bt=createCanvas(window.innerHeight*Tt,window.innerHeight),p=window.innerHeight/Mt):Tt>t?(bt=createCanvas(window.innerWidth,window.innerWidth/Tt),p=window.innerWidth/Ct):(bt=createCanvas(window.innerWidth,window.innerHeight),p=window.innerWidth/Ct);const o=(vt=createGraphics(Ct,Mt)).pixelDensity()||2;vt.pixelDensity(o*Ot),noLoop(),colorMode(HSB,360,100,100,100),Dt()}function Dt(){const t=e(0);t<.5?w="1":t<.75?w="5":t<7/8?w="10":t<.9375?w="20":t<31/32?w="50":t<63/64?w="100":t<127/128&&(w="2"),F=n(.2);const r=e(1);N="BULLION"==(a=r<.65?"FIAT":r<.9?"CRYPTO":"BULLION"),b="CRYPTO"===a;const s=(S=int(o(0,360)))<275&&S>210;"FIAT"===a?(k=color(S,26,25),W=color(c(S-72),6,91),d=color(c(max(S-72,0)),6,91),g=color(S,16,55),M=color(c(S-145),80,64),A=color(c(S-145),55,64,30),I=color(max(S-10,0),80,54),C=I,z=n(.02)):b?(W=color(c(S-133),96,s?0:15),k=color(S,s?80:100,s?95:90),g=color(S,69,75),M=color(c(S-254),100,100),A=color(c(S-254),55,64,60),C=I=M,d=W,O=color(S,99,90,50)):(k=color(S,26,25),r<.96875?(W=color(203,5,48),I=color(167,5,95),k=color(40,26,20),g=color(203,10,35),C=g,Wt=!0):(W=color(40,60,67),I=color(60,30,100),k=color(35,45,30),g=color(35,45,35),C=color(203,10,25)),M=k,A=g,d=W,_=!0),ct=n(.01),it=n(.01),lt=n(.02),pt=ct||it||lt,ct&&(W=color(c(S+30),96,95),k=color(S,s?80:100,80),g=color(S,69,75),M=color(c(S+40),100,75)),it&&(W=color(c(S-183),96,95),k=color(S,s?80:100,95),g=color(S,69,95),M=k),lt&&(W=color("#fff"),k=color("#000"),g=k,M=k),pt&&(A=M,C=I=M,d=W,A=g,O=k),dt=e(2)<.8125?"MAIN":e(2)<.95?"STRIP":"GRID",D="MAIN"===dt,st=n(.01)&&D&&!Q,P=jt(e(3)),X=D&&e(4)<.75,j=D&&n(X?.9:.6);const i=e(5);i<.0625?(E="DECO",x=!0):i<.6?E="NUMISMATIC":i<.8?(E="VINTAGE",v=!0):E=i<.86?"ECHO":i<.96?"DIGITAL":i<.9825?"LINE":"DENOMINATION",m=[0,1,3].includes(P)&&"WM2"!==R&&e(7)<.25,B=m&&n(.4),$=m&&!B&&n(.2),y=m&&e(7)<.0625,Y=y&&n(.4),q=y&&!Y&&n(.2);const l=n(.5)||N,f=Wt?I:d,u=!_||x||v||N?k:C;L=v||l?f:u,V=v||l?u:f,_=!v&&n(.125);const h=e(6);!D||X||h<.1875?(R="STANDARD",H=vo()):R=h<.5?"WM2":h<.8125?"WM1":v||x?n(.5)?"WM1":"WM2":h<.9375||b?"FULL":"EMPTY",Q=!j&&8!==H&&!B&&!Y;let p=o();kt=p<.005?0:p<.01?1:p<.015?2:p<.02?3:p<.025?4:p<.03?5:p<.035?6:"",U=e(8)<.015,J=n(.025),K=n(.02),st=st&&!Q,tt=n(.015),nt=n(.015),Z=n(.015),ft=n(.01),et=n(.01),rt=n(.005),ut=n(.005),ot=n(.005),ht=J||K||st||tt||nt||Z||et||rt||ut||ot||pt||ft,gt=!kt&&!U&&n(.05),ut&&(It=8),at=K||Z||J,G=j||at?Gt():[]}function Lt(){push();const t=r(),e=o(0,100);N||strokeWeight(2);for(let o=-e;o<=Ct+e;o++){const n=1===t?o-Ct/2:Ct/2-o;stroke(lerpColor(W,z||N||_?I:k,z||N||b&&_?o/Ct:o/(5*Ct))),line(n+e,-Mt/2,n,Mt/2)}pop(),"FIAT"===a&&No(),b&&"STANDARD"!==R&&Do(),b||xo()}function draw(){const t=(w||0)*(gt?-1:1)*(ht?0:1)*(b?n(.5)?o(0,150):o(0,.1):1)*(Wt?50:1)*(N&&!Wt?100:1)*(U?3:1)*(kt?5:1)*(v||x?1.5:1);translate(width/2,height/2),scale(p),noFill(),stroke(k),Lt(),tt&&Ft(),nt&&Vt(),ft&&_t(),strokeWeight(It),D||rt?Xt():"STRIP"===dt?io():co(),et&&Rt(),ot&&Ht();try{console.log("Estimated Market Value: "+t)}catch(t){}}function Vt(){scale(-1)}function _t(){(n(.5)?shearY:shearX)(PI*r()/o(4,10))}function Ft(){translate(o(Ct/4,Mt/4)*r(),o(Ct/4,Mt/4)*r()),rotate(o(HALF_PI,-HALF_PI))}function Rt(){push(),fill(W),strokeWeight(0),beginShape(),vertex(o(-Ct/2,Ct/2),-Mt/2),vertex(o(-Ct/2,Ct/2),Mt/2),vertex(o(-Ct/2,Ct/2),-Mt/2),endShape(),pop()}function Ht(){strokeWeight(0);for(let t=0;t<=Ct;t++)for(let e=0;e<=Mt;e++)fill(0,0,100,o(0,60)),rect(t-Ct/2,e-Mt/2,2)}function Xt(){let t=[],o=!1;if("STANDARD"===R)bo();else if("WM2"===R)Uo(t=Qt(G));else if("WM1"===R){const o=qt(G);t=[o];const e=175*$t(o),r=80*yt(o,4===G.length),s=_?A:g;n(.8)?$o(e,r,s):Qo(e+15,r,245,s)}else"FULL"===R&&(mo(),o=!0);switch(X&&oe(),Ut(G),P){case 0:break;case 1:eo();break;case 2:no();break;case 3:Kt();break;case 4:ro()}const e=r();m&&(B?to(e):$?xe(205*e):Zt(e)),y&&(Y?to(-1*e):q?xe(-205*e):Zt(-1*e)),rt&&po(),zt(t.length||4===G.length?t:G,o)}function jt(t){if(D)return st?0:t<.6875?1:t<.8125?2:t<.9375?3:4}function Gt(){const t=o();return t<.25?[1,2,3,4]:t<.5?[1,4]:t<.75?[2,3]:t<.825?[1,2]:t<.9375?[3,4]:[int(o(1,5))]}function Ut(t=[]){push(),strokeWeight(.6*It);const o=n(.125),e=4===t.length&&n(.5)?[s([1,3]),s([2,4])]:[],r=So(oo());t.forEach(t=>{const[n,s]=Pt[t],c=n+(t%2==1?52:-52),i=s+(t<3?52:-52),l=o||e.includes(t)?37.5:0;ao(c,i,50,0,{...r,holeR:l}),Me(c,i,.3,L,V)}),pop()}const mt=t=>[1,2,3,4].filter(o=>!t.includes(o)),Bt=t=>({1:4,2:3,3:2,4:1})[t],$t=t=>t%2!=0?-1:1,yt=(t,o)=>o?0:t<3?-1:1,Yt=(t,o)=>t.every((t,e)=>t===o[e])&&t.length===o.length,qt=t=>4!==t.length&&t.length?1===t.length?Bt(t[0]):s(mt(t)):s([1,2,3,4]);function Qt(t){return 4!==t.length&&t.length?Yt(t,[1,4])||Yt(t,[2,3])?s([[1,4],[2,3]]):1===t.length?mt([t[0],Bt(t[0])]):[Bt(t[0]),Bt(t[1])]:s([[1,4],[2,3],[1,2],[3,4]])}function zt(t=[],o=!1){const e=115+(X?0:30),n=1===t.length?Bt(t[0]):s(mt(t)),r=s(mt([n,...t])),c=(X?150:120)*$t(n),i=150*$t(r);Oe(c>0?c+85:c,e*yt(n),10,o),Ee(i<0?i-65:i,e*yt(r))}function Jt(t,o=!1){if(push(),o||n(.25))rotate(.75*TWO_PI*t),Ee(-Ct/6-25,-Ct/3-80),Oe(Ct/6+35,-Ct/3-80,10);else{const o=t>0;Ee((5*Ct/12+(o?30:-35))*-t,Mt/3+15),Oe(o?70:-5,Mt/3+20,10)}pop()}function Kt(){const t=v?{c1:-1,c2:185}:{holeR:135,c1:1,c2:-1,r1:15,r2:14,...oo()};ao(0,0,v?170:155,0,t);const e=o();Q||e<.1?Te(0,0,2.3):e<.8?$o(0,0,V,v?.5:.7):e<.92?Qo(0,0,200):e<.98&&Bo(0,0,250)}function Zt(t){const e=int(o(3,11))*r();Co(210*t,20,40,0,Eo({strokeC:M,strokeW:1,rDiff:2,ignoreShrink:!0,c1:e,c2:(e+5)*r()}))}function to(t){Me(205*t,20,.65,A,A)}const oo=()=>v?{}:{strokeC:V,innerC:_?V:g,outterC:L};function eo(){const t=!v&&n(.5),o=n(.25)?s([1,2]):0,e=oo();ao(0,0,150,0,e),t?ao(0,0,70,0,{...e,holeR:60}):o&&(ao(0,0,110,0,0,e),o>1&&ao(0,0,70,0,0,e)),(Q||t||o<2||n(.9375))&&Te(0,0,1)}function no(){const t=s([1,2,3]),o=oo();if(3===t){const t=So(o);ao(150,0,80,0,t),ao(-150,0,80,0,t)}const e=So(o);if(ao(110,0,100,0,e),ao(-110,0,100,0,e),t>1){const t=So(o);ao(60,0,130,0,t),ao(-60,0,130,0,t)}ao(0,0,150,0,So(o)),ao(0,0,70,0,{...So(o),holeR:w?60:0}),Te(0,0,.65)}function ro(){const t=o(),e=oo();if(t<.125){const t=So(e);ao(25,-120,25,0,t),ao(25,120,25,0,t),ao(-25,-120,25,0,t),ao(-25,120,25,0,t)}if(t<.25){const t=So(e);ao(50,-90,45,0,t),ao(50,90,45,0,t),ao(-50,-90,45,0,t),ao(-50,90,45,0,t)}if(t<.5){const t=So(e);ao(90,-50,70,0,t),ao(90,50,70,0,t),ao(-90,-50,70,0,t),ao(-90,50,70,0,t)}const n=So(e);ao(130,0,90,0,n),ao(-130,0,90,0,n),Te(0,0,.65)}function so(){const t=oo();ao(0,0,120,0,So(t)),ao(0,0,90,0,So(t)),ao(0,0,60,0,So(t)),Ie(w,-142,2,.65,k),Ie(w,142,2,.65,k),Ie(w,-140,0,.65,k,W),Ie(w,140,0,.65,k,W)}function co(){bo(),fo(1,!0),fo(0,!0),fo(-1,!0),Jt(r(),!0)}function io(){bo();const t=r();n(.5)&&lo(t),fo(t);const e=o(),s=Ct/-6*t;if(e<.65||at){const o=oo();ao(Ct/-6*t,0,180,0,o),(v||n(.3125))&&(ao(Ct/-6*t,0,135,0,o),ao(Ct/-6*t,0,90,0,o),v&&ao(Ct/-6*t,0,70)),n(.1)&&Qo(s,0,245)}else e<.9?($o(s,0),(n(.1)||0===H)&&Qo(s,0,245)):e<.97?Qo(s,0,245):e<.99?Te(s,0,3):Bo(Ct/-6*t,0,300);n(.5)&&ho(-1*t,1),n(.5)&&ho(-1*t,-1),Jt(t)}function lo(t=-1){push(),_&&stroke(C),line(Ct*t/6-1,20-Mt/2,Ct*t/6-1,Mt/2-20),line(Ct*t/6+1,20-Mt/2,Ct*t/6+1,Mt/2-20),pop()}function fo(t=-1,o=!1){if(n(.5)&&!o)uo(Mt/3*(n(.5)?1:-1),t);else{const o=s([1,2,3]);uo(-Mt/3,t,1!=o),uo(0,t,2!=o),uo(Mt/3,t,3!=o)}}function uo(t,o,e=!1){const r=Ct/3*o;at&&!t&&!o||n(.15)&&e?ao(r,t,55,0,oo()):Te(r,t,1.1)}function ho(t=1,o=1){push(),strokeCap(SQUARE);const e=Ct/2*t,n=-Mt/2*o;line(e-35*t,n+20*o,e-10*t,n+20*o),line(e-10*t,n+20*o,e-10*t,n+45*o),line(e-35*t,n+25*o,e-15*t,n+25*o),line(e-15*t,n+25*o,e-15*t,n+45*o),pop()}function po(){h(25,()=>{let t=o(25,200);const e=o(At,St),r=o(wt,Et);ao(e,r,t,n(.5)?0:o(t/5,t),{skipBg:n(.9)}),n(.5)&&Te(e,r,t/120)})}function ao(t,o,e,n=0,r={}){v&&(e*=.75),x&&(r={...r,fillC:L,strokeMod:6});const s=v?wo(r):Eo(r);r.skipBg||(v?Oo:Io)(t,o,e,n,{...s,strokeC:L,fillC:L,strokeMod:6}),ko()(t,o,e,r.holeR||n,{...s,strokeC:V,innerC:!1})};
