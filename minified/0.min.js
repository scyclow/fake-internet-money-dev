let e,t,n,o,r,s,i,c,l,f,u,a,p,h,C,T,E,k,I,_,d,O,g,S,W,M,R,L,A,P,N,w,b,F,v,H,x,V,D;const G=700,X=400,j=G/X,K=4,U=-G/2,Y=G/2,m=-X/2,$=X/2,B={1:[U,m],2:[Y,m],3:[U,$],4:[Y,$]};let y,q,Q=!1,z=!1;function setup(){const t=window.innerWidth/window.innerHeight;j<t?(y=createCanvas(window.innerHeight*j,window.innerHeight),e=window.innerHeight/X):j>t?(y=createCanvas(window.innerWidth,window.innerWidth/j),e=window.innerWidth/G):(y=createCanvas(window.innerWidth,window.innerHeight),e=window.innerWidth/G),q=createGraphics(G*K,X*K),noLoop(),colorMode(HSB,360,100,100,100),J(),document.body.style.backgroundColor="#000000"}function J(){const e=$t(0);e<.5?u="1":e<.75?u="5":e<7/8?u="10":e<.9375?u="20":e<31/32?u="50":e<63/64?u="100":e<127/128&&(u="2"),E=Bt(.2);const l=$t(1);let G;if(COLOR_SCHEME=l<.65?"FIAT":l<.9?"CRYPTO":"BULLION",C="BULLION"===COLOR_SCHEME,IS_CRYPTO="CRYPTO"===COLOR_SCHEME,"FIAT"===COLOR_SCHEME)f=int(mt(0,360)),t=color(f,26,25),o=color(Qt(f-72),6,91),r=color(Qt(max(f-72,0)),6,91),n=color(f,16,55),c=color(Qt(f-145),80,64),LIGHT_ACCENT_C=color(Qt(f-145),55,64,30),s=color(max(f-10,0),80,54),i=s,R=Bt(.02);else if("CRYPTO"===COLOR_SCHEME){const e=(f=int(mt(0,360)))<275&&f>210;o=color(Qt(f-133),96,e?0:15),t=color(f,e?80:99,e?95:90),n=color(f,69,75),c=color(Qt(f-254),100,100),LIGHT_ACCENT_C=c,i=s=c,r=o}else f=int(mt(0,360)),t=color(f,26,25),l<.965?(o=color(203,5,48),s=color(167,5,95),t=color(40,26,20),n=color(203,10,35),i=n,G=!0):(o=color(40,60,67),s=color(60,30,100),t=color(35,45,30),n=color(35,45,35),i=color(203,10,25)),c=t,LIGHT_ACCENT_C=n,r=o,T=!0;const X="MAIN"==(D=$t(2)<.8125?"MAIN":$t(2)<.95?"STRIP":"GRID");MAIN_CENTER_PIECE=se($t(3)),_=X&&$t(4)<.75,d=X&&Bt(_?.9:.6);const j=$t(5);j<.0625?(a="DECO",h=!0):j<.625?a="NUMISMATIC":j<.8125?(a="VINTAGE",p=!0):a=j<.875?"ECHO":j<.9375?"DIGITAL":"LINE",L=Bt(.0625);const K=Bt(.5)||C,U=G?s:r,Y=!T||h||p||C?t:i;ROSETTE_FILL_C=p||K?U:Y,ROSETTE_STROKE_C=p||K?Y:U,T=!p&&Bt(.125);const m=$t(6);!X||_||m<.1875?(k="STANDARD",I=$e()):k=m<.5?"WM2":m<.8125?"WM1":p||h?Bt(.5)?"WM1":"WM2":m<.9375||IS_CRYPTO?"FULL":"EMPTY",g=[0,1,3,5].includes(MAIN_CENTER_PIECE)&&"WM2"!==k&&$t(7)<.25,S=g&&$t(7)<.0625,W=g&&Bt(.5),M=!d&&8!==I&&!W,serialSeed=mt(),x=serialSeed<.005?0:serialSeed<.01?1:serialSeed<.015?2:serialSeed<.02?3:serialSeed<.025?4:serialSeed<.03?5:serialSeed<.035?6:"",O=$t(8)<.02,A=Bt(.02),N=Bt(.015),F=Bt(.015),P=Bt(.015),b=Bt(.01),v=Bt(.005),w=Bt(.005),V=!x&&!O&&Bt(.1),H=A||P||L}function Z(){push();const e=yt(),n=mt(0,100);C||strokeWeight(2);for(let r=-n;r<=G+n;r++){const i=1===e?r-G/2:G/2-r;stroke(lerpColor(o,R||C||T?s:t,R||C||IS_CRYPTO&&T?r/G:r/(5*G))),line(i+n,-X/2,i,X/2)}pop(),"FIAT"===COLOR_SCHEME&&ye(),"CRYPTO"!==COLOR_SCHEME&&Be()}function draw(){translate(width/2,height/2),scale(e),noFill(),stroke(t),Z(),N&&te(),F&&ee(),"MAIN"===D||v?re():"STRIP"===D?Re():Me(),b&&ne(),w&&oe(),console.log("$"+(u||0))}function keyPressed(){83===keyCode&&saveCanvas(y,"FIM-"+Date.now(),"jpg")}function ee(){translate(-1)}function te(){translate(mt(G/4,X/4)*yt(),mt(G/4,X/4)*yt()),rotate(mt(HALF_PI,-HALF_PI))}function ne(){push(),fill(o),strokeWeight(0),beginShape(),vertex(mt(-G/2,G/2),-X/2),vertex(mt(-G/2,G/2),X/2),vertex(mt(-G/2,G/2),-X/2),endShape(),pop()}function oe(){for(let e=0;e<=G;e++)for(let t=0;t<=X;t++)strokeWeight(0),fill(0,0,100,mt(0,70)),rect(e-G/2,t-X/2,2)}function re(){const e=d||H?ie():[];let t=[],o=!1;if("STANDARD"===k)me();else if("WM2"===k)rt(t=Ce(e));else if("WM1"===k){const o=he(e);t=[o];const r=175*ue(o),s=80*ae(o,4===e.length),i=T?LIGHT_ACCENT_C:n;Bt(.8)?ct(r,s,i):at(r+15,s,245,i)}else"FULL"===k&&(st(),o=!0);switch(_&&St(),ce(e),MAIN_CENTER_PIECE){case 0:break;case 1:Oe();break;case 2:ge();break;case 3:ke();break;case 4:Se()}const r=yt();g&&(W?_e(r):Ie(r)),S&&(Bt(.5)?Ie(-1*r):_e(-1*r)),v&&we(),Te(t.length||4===e.length?t:e,o)}function se(e){if("MAIN"===D)return e<.6875?1:e<.8125?2:e<.9375?3:4}function ie(){const e=mt();return e<.25?[1,2,3,4]:e<.5?[1,4]:e<.75?[2,3]:e<.825?[1,2]:e<.9375?[3,4]:[int(mt(1,5))]}function ce(e=[]){const t=Bt(.125),n=4===e.length&&Bt(.5)?[qt([1,3]),qt([2,4])]:[],o=je(de());e.forEach(e=>{const[r,s]=B[e],i=r+(e%2==1?57:-57),c=s+(e<3?57:-57),l=t||n.includes(e)?41.25:0;be(i,c,55,0,{...o,holeR:l}),Kt(i,c,.35,ROSETTE_FILL_C,ROSETTE_STROKE_C)})}const le=e=>[1,2,3,4].filter(t=>!e.includes(t)),fe=e=>({1:4,2:3,3:2,4:1})[e],ue=e=>e%2!=0?-1:1,ae=(e,t)=>t?0:e<3?-1:1,pe=(e,t)=>e.every((e,n)=>e===t[n])&&e.length===t.length,he=e=>4!==e.length&&e.length?1===e.length?fe(e[0]):qt(le(e)):qt([1,2,3,4]);function Ce(e){return 4!==e.length&&e.length?pe(e,[1,4])||pe(e,[2,3])?qt([[1,4],[2,3]]):1===e.length?le([e[0],fe(e[0])]):[fe(e[0]),fe(e[1])]:qt([[1,4],[2,3],[1,2],[3,4]])}function Te(e=[],t=!1){const n=115+(_?0:30),o=1===e.length?fe(e[0]):qt(le(e)),r=qt(le([o,...e])),s=(_?150:120)*ue(o),i=150*ue(r);kt(s>0?s+85:s,n*ae(o),10,t),Ot(i<0?i-65:i,n*ae(r))}function Ee(e,t=!1){if(push(),t||Bt(.25))rotate(.75*TWO_PI*e),Ot(-G/6-25,-G/3-80),kt(G/6+35,-G/3-80,10);else{const t=e>0;Ot((5*G/12+(t?30:-35))*-e,X/3+15),kt(t?70:-5,X/3+20,10)}pop()}function ke(){const e=p?{c1:-1,c2:185}:{holeR:135,c1:1,c2:-1,r1:15,r2:14,...de()};be(0,0,p?170:155,0,e);const t=mt();M||t<.1?Ut(0,0,2.3):t<.8?ct(0,0,ROSETTE_STROKE_C,p?.5:.7):t<.92?at(0,0,200):t<.98&&it(0,0,250)}function Ie(e){const t=int(mt(3,11))*yt();Ve(210*e,20,40,0,Ue({strokeC:c,strokeW:1,rDiff:2,ignoreShrink:!0,c1:t,c2:(t+5)*yt()}))}function _e(e){Kt(205*e,20,.65,LIGHT_ACCENT_C,LIGHT_ACCENT_C)}const de=()=>p?{}:{strokeC:ROSETTE_STROKE_C,innerC:T?ROSETTE_STROKE_C:n,outterC:ROSETTE_FILL_C};function Oe(){const e=!p&&Bt(.5),t=Bt(.25)?qt([1,2]):0,n=de();be(0,0,150,0,n),e?be(0,0,70,0,{...n,holeR:60}):t&&(be(0,0,110,0,0,n),t>1&&be(0,0,70,0,0,n)),(M||e||t<2||Bt(.9375))&&Ut(0,0,1)}function ge(){const e=qt([1,2,3]),t=de();if(3===e){const e=je(t);be(150,0,80,0,e),be(-150,0,80,0,e)}const n=je(t);if(be(110,0,100,0,n),be(-110,0,100,0,n),e>1){const e=je(t);be(60,0,130,0,e),be(-60,0,130,0,e)}be(0,0,150,0,je(t)),be(0,0,70,0,{...je(t),holeR:u?60:0}),Ut(0,0,.65)}function Se(){const e=mt(),t=de();if(e<.125){const e=je(t);be(25,-120,25,0,e),be(25,120,25,0,e),be(-25,-120,25,0,e),be(-25,120,25,0,e)}if(e<.25){const e=je(t);be(50,-90,45,0,e),be(50,90,45,0,e),be(-50,-90,45,0,e),be(-50,90,45,0,e)}if(e<.5){const e=je(t);be(90,-50,70,0,e),be(90,50,70,0,e),be(-90,-50,70,0,e),be(-90,50,70,0,e)}const n=je(t);be(130,0,90,0,n),be(-130,0,90,0,n),Ut(0,0,.65)}function We(){const e=de();be(0,0,120,0,je(e)),be(0,0,90,0,je(e)),be(0,0,60,0,je(e)),Xt(u,-142,2,.65,t),Xt(u,142,2,.65,t),Xt(u,-140,0,.65,t,o),Xt(u,140,0,.65,t,o)}function Me(){me(),Ae(1,!0),Ae(0,!0),Ae(-1,!0),Ee(yt(),!0)}function Re(){me();const e=yt();Bt(.5)&&Le(e),Ae(e);const t=mt(),n=G/-6*e;if(t<.65){const t=de();be(G/-6*e,0,180,0,t),(p||Bt(.3125))&&(be(G/-6*e,0,135,0,t),be(G/-6*e,0,90,0,t),p&&be(G/-6*e,0,70)),Bt(.1)&&at(n,0,245)}else t<.9?(ct(n,0),(Bt(.1)||0===I)&&at(n,0,245)):t<.97?at(n,0,245):t<.99?Ut(n,0,3):it(G/-6*e,0,300);Bt(.5)&&Ne(-1*e,1),Bt(.5)&&Ne(-1*e,-1),Ee(e)}function Le(e=-1){push(),T&&stroke(i),line(G*e/6-1,20-X/2,G*e/6-1,X/2-20),line(G*e/6+1,20-X/2,G*e/6+1,X/2-20),pop()}function Ae(e=-1,t=!1){if(Bt(.5)&&!t)Pe(X/3*(Bt(.5)?1:-1),e);else{const t=qt([1,2,3]);Pe(-X/3,e,1!=t),Pe(0,e,2!=t),Pe(X/3,e,3!=t)}}function Pe(e,t,n=!1){const o=G/3*t;H&&!e&&!t||Bt(.15)&&n?be(o,e,55,0,de()):Ut(o,e,1.1)}function Ne(e=1,t=1){push(),strokeCap(SQUARE);const n=G/2*e,o=-X/2*t;line(n-35*e,o+20*t,n-10*e,o+20*t),line(n-10*e,o+20*t,n-10*e,o+45*t),line(n-35*e,o+25*t,n-15*e,o+25*t),line(n-15*e,o+25*t,n-15*e,o+45*t),pop()}function we(){tn(25,()=>{let e=mt(25,200);const t=mt(U,Y),n=mt(m,$);be(t,n,e,Bt(.5)?0:mt(e/5,e),{skipBg:Bt(.9)}),Bt(.5)&&Ut(t,n,e/120)})}function be(e,t,n,o=0,r={}){p&&(n*=.75),h&&(r={...r,fillC:ROSETTE_FILL_C,strokeMod:6});const s=p?Ke(r):Ue(r);r.skipBg||(s.innerC?xe(e,t,n,o,s):("NUMISMATIC"===a?He:p?Xe:xe)(e,t,n,o,{...s,strokeC:ROSETTE_FILL_C,fillC:ROSETTE_FILL_C,strokeMod:6})),Fe()(e,t,n,r.holeR||o,{...s,strokeC:ROSETTE_STROKE_C,innerC:!1})}const Fe=()=>P?qt([He,Ve,Ge,De,Xe]):["NUMISMATIC","DECO"].includes(a)?He:"ECHO"===a?Ve:"DIGITAL"===a?Ge:"LINE"===a?De:p?Xe:zt;function ve(){be(0,0,90,0,Ue({fillC:ROSETTE_FILL_C,strokeMod:6}))}function He(e,t,n=200,o=100,r={},s=window){s.push(),r.strokeC&&s.stroke(r.strokeC),r.fillC&&s.fill(r.fillC);const i=r.strokeMod||1,c=r.points,l=Ye(e,t,c,r.c1,r.c2,r.r1,r.r2);for(let e=0;e<6;e++)s.strokeWeight(((r.strokeW||.7)+n/150-1)*i),en(c,t=>{const[o,r]=l(n,t,e/3),[s,i]=l(.95*n,t,e/3);return t%2==0?[s,i]:[o,r]},s);let f=n,u=.75*n,a=0;for(;u>=o&&a<20;){s.strokeWeight((r.strokeW||1)+f/150-1);for(let e=0;e<6;e++)en(c,t=>{const[n,o]=l(f,t,e/3),[r,s]=l(u,t,e/3);return t%2==0?[r,s]:[n,o]},s);(f=1.045*u)<10?u=0:u-.75*u<10?u=f-10:u*=.75,a++}s.pop()}function xe(...e){Ve(...e,!0)}function Ve(e=0,t=0,n=200,o=100,r={},s=!1){push(),r.strokeC&&stroke(r.strokeC),s&&strokeWeight(2),r.strokeW&&strokeWeight(r.strokeW);const i=Ye(e,t,r.points,r.c1,r.c2,r.r1,r.r2),c=r.rDiff||(s?1:5),l=s?int(n/40):0;for(let e=o;e<=n+l;e+=c)!s&&!r.ignoreShrink&&strokeWeight(e*r.strokeW/130),r.innerC&&r.outterC&&stroke(lerpColor(r.innerC,r.outterC,(e-o)/(n-o))),Jt(r.points,t=>gt(i(e,t)));pop()}function De(e=0,t=0,n=200,o=100,r={}){push(),r.strokeC&&stroke(r.strokeC),r.strokeW&&strokeWeight(r.strokeW);const s=r.points/2,i=Ye(e,t,s,r.c1,r.c2,r.r1,r.r2);for(let e=0;e<s;e+=.2){const[t,r]=gt(i(n,e)),[s,c]=gt(i(o,e));line(s,c,t,r)}pop()}function Ge(e=0,t=0,n=200,o=100,r={}){De(e,t,n,o,r),Ve(e,t,n,o,r)}function Xe(e=0,t=0,n=90,o=0,r={}){push(),r.strokeC&&stroke(r.strokeC),r.fillC&&fill(r.fillC),r.strokeW&&strokeWeight(r.strokeW);const s=n/r.r1,i=n/r.r2,c=r.points,l=c/r.c1,f=c/r.c2;en(c,o=>{const r=o/c*TWO_PI,u=o/l*TWO_PI,a=o/f*TWO_PI,p=Zt(r,n,e,t),[h,C]=Zt(u,s,p[0],p[1]);return Zt(a,i,h,C)}),pop()}const je=e=>p?Ke(e):Ue(e),Ke=e=>({c1:int(mt(1,13))*yt(),c2:int(mt(170,192))*yt(),r1:9,r2:5,strokeC:ROSETTE_STROKE_C,points:360,...e}),Ue=e=>({c1:int(mt(1,L?25:16))*yt(),c2:int(mt(1,L?40:13))*yt(),r1:L?mt(4,10):mt(10,20),r2:L?mt(4,10):mt(10,20),points:70,...e}),Ye=(e,t,n,o,r,s,i)=>{const c=n/o,l=n/r;return(o,r,f=0,u=null,a=null)=>{const p=(r+f)/n,h=(r+f)/c,C=(r+f)/l,T=u||1/s,E=a||1/i,k=1-T-E,[I,_]=Zt(p*TWO_PI,o*k,e,t),[d,O]=Zt(h*TWO_PI,o*T,I,_);return Zt(C*TWO_PI,o*E,d,O)}};function me(){switch(I){case 0:ot();break;case 1:nt();break;case 2:Qe();break;case 3:ze();break;case 4:Je();break;case 5:Ze();break;case 6:et();break;case 7:tt();break;case 8:qe()}}function $e(){const e=mt();return Bt(IS_CRYPTO?.125:.01)?0:e<.125?1:e<.25?2:e<.375?3:e<.5?4:e<.625?5:e<.75?6:e<.875?7:8}function Be(){push(),noFill(),strokeWeight(mt(.1,.5));for(let e=0;e<40;e++){stroke(C?s:Bt(.75)?t:c);const e=mt(-G/2,G/2),n=mt(-X/2,X/2),o=e+mt(-25,25),r=o+mt(-25,25),i=r+mt(-25,25),l=n+mt(-25,25),f=l+mt(-25,25),u=f+mt(-25,25);beginShape(),curveVertex(e+mt(-20,20),n+mt(-20,20)),curveVertex(e,n),curveVertex(o,l),curveVertex(r,f),curveVertex(i,u),endShape()}pop()}function ye(){push();for(let e=-G/2;e<G/2;e+=5)for(let t=-X/2;t<X/2;t+=5)strokeWeight(mt(1,2)),stroke(color(f,26,25,mt(0,40))),point(e+mt(-5,5),t+mt(-5,5));pop()}function qe(){push(),strokeWeight(1);for(let e=-G/2;e<G/2;e+=20)for(let n=-X/2;n<X/2;n+=20){const o=mt(.01,.15),r=Bt(.3),s=r?0:mt(-10,10),i=r?0:mt(-10,10);Gt(xt(),e+s+10,n+i+10,o,t)}pop()}function Qe(){push(),stroke(t),strokeWeight(.5);for(let e=-G/2;e<G/2;e+=10)for(let t=-X/2;t<X/2;t+=10)Bt(.5)?line(e,t,e+10,t+10):line(e+10,t,e,t+10);pop()}function ze(){push(),noFill(),strokeWeight(.5);const e=T||Bt(.5);for(let t=0,n=0;t<=X+5;t+=15,n++){const o=t-X/2;beginShape(),curveVertex(-30-G/2,o-7.5);for(let t=0;t<G/30+2;t++){const r=n%2==0?t%2==0?7.5:-7.5:t%2==0?-7.5:7.5;curveVertex(30*t-G/2,o+r),e&&(fill(s),circle(30*t-G/2,o+r,4),noFill())}endShape()}pop()}function Je(){push(),noFill(),strokeWeight(.5);for(let e=0;e<G;e+=100)for(let t=0;t<X;t+=100)if(t/100%2==0&&e/100%2==0||t/100%2==1&&e/100%2==1)for(let n=0;n<100;n+=4)line(e-G/2,n+t+2-X/2,e+100-G/2,n+t+2-X/2);else for(let n=0;n<100;n+=4)line(n+e+2-G/2,t-X/2,n+e+2-G/2,t+100-X/2);pop()}function Ze(){push(),noFill(),strokeWeight(.5);for(let e=-5;e<X+8;e+=X/100){const t=e-X/2;beginShape(),curveVertex(-30-G/2,t-7.5);for(let e=0;e<G/30+2;e++)curveVertex(30*e-G/2,t+(e%2==0?7.5:-7.5));endShape()}pop()}function et(){push(),strokeWeight(.35),T&&fill(LIGHT_ACCENT_C),stroke(n);for(let e=0;e<G;e+=10)for(let t=0;t<X;t+=10){const n=e-G/2,o=t-X/2;if(Bt(.5)){line(n,o,n+10,o+10);const e=mt();e<.15?circle(n,o,4):e<.3&&circle(n+10,o+10,4)}else{line(n+20,o,n,o+20);const e=mt();e<.15?circle(n+20,o,4):e<.3&&circle(n,o+20,4)}}pop()}function tt(){push(),strokeWeight(1),stroke(n);for(let e=-G/2-X/2;e<X/2+G/2;e+=5)line(e,-X/2,X/2+e,0),line(X/2+e,0,e,X/2);pop()}function nt(){push(),strokeWeight(.35),stroke(n);for(let e=-G/2;e<G/2+1;e+=10)for(let t=-X/2;t<X/2+1;t+=10)circle(e,t,14);pop()}function ot(){push();const e=int(mt(2,5));for(let n=0;n<G;n+=e)for(let r=0;r<X;r+=e)fill(lerpColor(o,t,mt(.75))),noStroke(),rect(G/2-n-e,X/2-r-e,e,e);pop()}function rt(e=[2,4]){push();const n=p?He:Fe(),o=Ue({strokeC:t,strokeW:.35}),r=mt(0,G/4);e.forEach(e=>n(B[e][0],B[e][1],G/2,r,o)),pop()}function st(){be(0,0,G,0)}function it(e,n,r=200){push(),strokeWeight(2),fill(o),arc(e,n,.9*r,r,0,TWO_PI),noFill(),Gt("$",e-.17*r,n-.125*r,.125,t),Gt("$",e+.17*r,n-.125*r,.125,t),circle(e-.17*r,n-.125*r,.1*r),circle(e+.17*r,n-.125*r,.1*r),arc(e,n,.6*r,.7*r,TWO_PI+.15*PI,.85*PI),pop()}function ct(e,t,n,o=1){push(),scale(o),n&&stroke(n);const r=mt();r<.3333?lt(e,t):r<.85?ft(e,t):ut(e,t),pop()}function lt(e=0,t=0,n=100){const o=1080/qt([22,32,32.5,33,34,64,65,66,66.4]);Jt(1080,r=>{const s=r/1080*TWO_PI,[i,c]=Zt(s,n/100+abs(75*sin(33*s)),e,t);return Zt(r/o*TWO_PI,n,i,c)})}function ft(e=0,t=0,n=100){const o=32*qt([7,13,29,31,32,34,35,36,37,44,46,58,59,60,62,85,88,92,96]),r=5*n/6,s=4*n/6;Jt(o,n=>{const i=n/o*TWO_PI,[c,l]=Zt(i,r+abs(30*sin(90*i)),e,t);return Zt(n/32*TWO_PI,.8*s+abs(sin(360*i)),c,l)})}function ut(e,t,n=100){yt();const o=qt([[10,96,2],[10,96,-4],[14,96,2],[15,29,-5],[720,-5,5],[720,6,-3],[720,-4,2],[720,-6,2],[720,-3,3],[720,-15,5],[50,-9,10]]),r=TWO_PI/o[0],s=.4*n,i=TWO_PI/o[1],c=.2*n,l=TWO_PI/o[2];Jt(720,o=>{const[f,u]=Zt(o*r,n,e,t),[a,p]=Zt(o*i,s,f,u);return Zt(o*l,c,a,p)})}function at(e=0,n=0,r,i=t){push();const c=T?s:o,l=Bt(.4275),f=mt(),u=!l&&Bt(.5),a=!l&&Bt(.5),p=!l&&!u&&!a&&Bt(.5),h=f<.85,C=f>=.85,E=Bt(.9),k=Bt(.65),I=Bt(.65),_=Bt(.65),d=Bt(.65),O=Bt(.65)||!(k||I||_||d),g=!k&&!_&&!O,S=5*r/250,W={tC:u,bC:a,e:l,iE:p,t:h,iT:C,p:E};k&&pt(e,n,r,i,9*S,W),I&&pt(e,n,r,g?i:c,7*S,W),_&&pt(e,n,r,i,5*S,W),d&&pt(e,n,r,g?i:c,3*S,W),O&&pt(e,n,r,i,S,W),pop()}function pt(e,t,n,o,r,{tC:s=!1,bC:i=!1,e:c=!1,iE:l=!1,t:f=!1,iT:u=!1,p:a=!1}){noFill(),strokeWeight(r),stroke(o),f&&Et(e,t,n,1),u&&Et(e,t,n,-1),c&&Tt(e,t,n,130),l&&Tt(e,t,n,230),a&&point(e,t,0),s&&ht(e,t,n,1),i&&ht(e,t,n,0)}function ht(e,t,n,o=1){const{centerW:r}=Ct(n),s=r/sin(radians(65)),i=cos(radians((1===o?235:124)/2))*(r/2);circle(e,t+i,s)}function Ct(e){const t=sin(radians(60))*e,n=tan(radians(30))*e/2;return{tHeight:t,heightOfCenter:n,centerW:tan(radians(30))*(t-n)*2}}function Tt(e,t,n,o,r=1){const{centerW:s}=Ct(n),i=s*r/sin(radians(o/2)),c=cos(radians(o/2))*(i/2);arc(e,t+c,i,i,radians(270-o/2),radians(270+o/2),OPEN),arc(e,t-c,i,i,radians(90-o/2),radians(90+o/2),OPEN)}function Et(e,t,n,o=1){const{tHeight:r,heightOfCenter:s}=Ct(n);triangle(e-n/2,t+s*o,e+n/2,t+s*o,e,t+(r-s)*-o)}function kt(e,n,r,s){if(V)return;push(),noFill(),strokeWeight(1.5);let i=e-8*r,l=n+r/2;const f=[[i-mt(r),l-mt(r)],[i,l]];tn(8,()=>{const e=Bt(.75),t=i+r*(1+.1*(e?-7:7))/2,n=l+(e?Bt(.85)?r*mt(0,.3):r*mt(1,1.5):-1*(Bt(.5)?r*mt(0,.3):r*mt(1,1.5))),o=i+r*mt(.9,1.1),s=l+r*mt(-.1,.1);f.push([t,n]),f.push([o,s]),i=o,l=s}),f.push([i+mt(r),l+mt(r)]),s?stroke(t):stroke(o),beginShape(),f.forEach(([e,t])=>curveVertex(e+1,t+1)),endShape(),s?stroke(c):stroke(t),beginShape(),f.forEach(([e,t])=>curveVertex(e,t)),endShape(),pop()};