let t=parseInt(tokenData.hash.slice(50,58),16);function e(e,n){t^=t<<13,t^=t>>17;const o=((t^=t<<5)<0?1+~t:t)%1e3/1e3;return null!=n?e+o*(n-e):null!=e?o*e:o}function n(t){const e=tokenData.hash.slice(2+2*t,4+2*t);return parseInt(e,16)/255}const o=t=>e()<t,r=()=>o(.5)?1:-1,s=t=>t[int(e(t.length))],i=t=>(t+360)%360,c=()=>{};function l(t,e){beginShape(),curveVertex(...e(-1));for(let n=0;n<=t+1;n++)m&&rotate(.1),curveVertex(...e(n));endShape()}const f=(t,e,n=0,o=0)=>[sin(t)*e+n,cos(t)*e+o],u=(t,e,n=window)=>{n.beginShape(),n.curveVertex(...e(-1)),a(t+2,t=>{n.curveVertex(...ye(e(t),n))}),n.endShape()};function a(t,e){for(let n=0;n<t;n++)e(n)}let p,h,C,T,k,I,E,_,S,g,O,d,W,R,M,L,A,N,P,w,F,b,H,v,x,V,D,G,K,Y,X,j,U,m,y,B,$,q,Q,z,J,Z,tt,et,nt,ot,rt,st=1;const it=700,ct=400,lt=it/ct,ft=4,ut=-it/2,at=it/2,pt=-ct/2,ht=ct/2,Ct={1:[ut,pt],2:[at,pt],3:[ut,ht],4:[at,ht]};let Tt,kt,It=!1,Et=!1;function setup(){const t=window.innerWidth/window.innerHeight;lt<t?(Tt=createCanvas(window.innerHeight*lt,window.innerHeight),p=window.innerHeight/ct):lt>t?(Tt=createCanvas(window.innerWidth,window.innerWidth/lt),p=window.innerWidth/it):(Tt=createCanvas(window.innerWidth,window.innerHeight),p=window.innerWidth/it);const e=(kt=createGraphics(it,ct)).pixelDensity()||2;kt.pixelDensity(e*ft),noLoop(),colorMode(HSB,360,100,100,100),_t()}function _t(){const t=n(0);t<.5?O="1":t<.75?O="5":t<7/8?O="10":t<.9375?O="20":t<31/32?O="50":t<63/64?O="100":t<127/128&&(O="2"),N=o(.2);const r=n(1);if(COLOR_SCHEME=r<.65?"FIAT":r<.9?"CRYPTO":"BULLION",M="BULLION"===COLOR_SCHEME,IS_CRYPTO="CRYPTO"===COLOR_SCHEME,"FIAT"===COLOR_SCHEME)g=int(e(0,360)),h=color(g,26,25),T=color(i(g-72),6,91),k=color(i(max(g-72,0)),6,91),C=color(g,16,55),_=color(i(g-145),80,64),LIGHT_ACCENT_C=color(i(g-145),55,64,30),I=color(max(g-10,0),80,54),E=I,j=o(.02);else if(IS_CRYPTO){const t=(g=int(e(0,360)))<275&&g>210;T=color(i(g-133),96,t?0:15),h=color(g,t?80:100,t?95:90),C=color(g,69,75),_=color(i(g-254),100,100),LIGHT_ACCENT_C=_,E=I=_,k=T}else g=int(e(0,360)),h=color(g,26,25),r<.96875?(T=color(203,5,48),I=color(167,5,95),h=color(40,26,20),C=color(203,10,35),E=C,ot=!0):(T=color(40,60,67),I=color(60,30,100),h=color(35,45,30),C=color(35,45,35),E=color(203,10,25)),_=h,LIGHT_ACCENT_C=C,k=T,A=!0;rt=n(2)<.8125?"MAIN":n(2)<.95?"STRIP":"GRID",L="MAIN"===rt,Z=o(.01)&&L&&!X,MAIN_CENTER_PIECE=Mt(n(3)),F=L&&n(4)<.75,b=L&&o(F?.9:.6);const s=n(5);s<.0625?(d="DECO",R=!0):s<.6?d="NUMISMATIC":s<.8?(d="VINTAGE",W=!0):d=s<.86?"ECHO":s<.96?"DIGITAL":s<.9825?"LINE":"DENOMINATION",U=o(.03125),x=[0,1,3].includes(MAIN_CENTER_PIECE)&&"WM2"!==P&&n(7)<.25,V=x&&o(.4),D=x&&!V&&o(.2),G=x&&n(7)<.0625,K=G&&o(.4),Y=G&&!K&&o(.2);const c=o(.5)||M,l=ot?I:k,f=!A||R||W||M?h:E;ROSETTE_FILL_C=W||c?l:f,ROSETTE_STROKE_C=W||c?f:l,A=!W&&o(.125);const u=n(6);!L||F||u<.1875?(P="STANDARD",w=Ce()):P=u<.5?"WM2":u<.8125?"WM1":W||R?o(.5)?"WM1":"WM2":u<.9375||IS_CRYPTO?"FULL":"EMPTY",X=!b&&8!==w&&!V&&!K,serialSeed=e(),et=serialSeed<.005?0:serialSeed<.01?1:serialSeed<.015?2:serialSeed<.02?3:serialSeed<.025?4:serialSeed<.03?5:serialSeed<.035?6:"",v=n(8)<.02,m=o(.02),Z=Z&&!X,B=o(.015),Q=o(.015),y=o(.015),q=o(.01),z=o(.005),MISPRINT_HEAVY_INK=o(.005),$=o(.005),IS_MISPRINT=U||m||Z||B||Q||y||q||z||MISPRINT_HEAVY_INK||$,nt=!et&&!v&&o(.1),MISPRINT_HEAVY_INK&&(st=8),tt=m||y||U,H=b||tt?Lt():[]}function St(){push();const t=r(),n=e(0,100);M||strokeWeight(2);for(let e=-n;e<=it+n;e++){const o=1===t?e-it/2:it/2-e;stroke(lerpColor(T,j||M||A?I:h,j||M||IS_CRYPTO&&A?e/it:e/(5*it))),line(o+n,-ct/2,o,ct/2)}pop(),"FIAT"===COLOR_SCHEME&&ke(),IS_CRYPTO&&"STANDARD"!==P&&Ie(),IS_CRYPTO||Te()}function draw(){translate(width/2,height/2),scale(p),noFill(),stroke(h),St(),B&&Ot(),Q&&gt(),strokeWeight(st),L||z?Rt():"STRIP"===rt?Bt():yt(),q&&dt(),$&&Wt();const t=(O||0)*(nt?-1:1)*(IS_MISPRINT?0:1)*(IS_CRYPTO?o(.5)?e(0,150):e(0,.1):1)*(ot?50:1)*(M&&!ot?100:1)*(v?3:1)*(et?5:1)*(W||R?1.5:1);try{console.log("Estimated Market Value: "+t)}catch(t){}}function keyPressed(){83===keyCode&&saveCanvas(Tt,"FIM-"+Date.now(),"jpg")}function gt(){translate(-1)}function Ot(){translate(e(it/4,ct/4)*r(),e(it/4,ct/4)*r()),rotate(e(HALF_PI,-HALF_PI))}function dt(){push(),fill(T),strokeWeight(0),beginShape(),vertex(e(-it/2,it/2),-ct/2),vertex(e(-it/2,it/2),ct/2),vertex(e(-it/2,it/2),-ct/2),endShape(),pop()}function Wt(){strokeWeight(0);for(let t=0;t<=it;t++)for(let n=0;n<=ct;n++)fill(0,0,100,e(0,60)),rect(t-it/2,n-ct/2,2)}function Rt(){let t=[],e=!1;if("STANDARD"===P)he();else if("WM2"===P)Le(t=vt(H));else if("WM1"===P){const e=Ht(H);t=[e];const n=175*wt(e),r=80*Ft(e,4===H.length),s=A?LIGHT_ACCENT_C:C;o(.8)?Pe(n,r,s):He(n+15,r,245,s)}else"FULL"===P&&(Ae(),e=!0);switch(F&&qe(),At(H),MAIN_CENTER_PIECE){case 0:break;case 1:Xt();break;case 2:jt();break;case 3:Dt();break;case 4:Ut()}const n=r();x&&(V?Kt(n):D?$e(205*n):Gt(n)),G&&(K?Kt(-1*n):Y?$e(-205*n):Gt(-1*n)),z&&Jt(),xt(t.length||4===H.length?t:H,e)}function Mt(t){if(L)return Z?0:t<.6875?1:t<.8125?2:t<.9375?3:4}function Lt(){const t=e();return t<.25?[1,2,3,4]:t<.5?[1,4]:t<.75?[2,3]:t<.825?[1,2]:t<.9375?[3,4]:[int(e(1,5))]}function At(t=[]){push(),strokeWeight(.6*st);const e=o(.125),n=4===t.length&&o(.5)?[s([1,3]),s([2,4])]:[],r=fe(Yt());t.forEach(t=>{const[o,s]=Ct[t],i=o+(t%2==1?52:-52),c=s+(t<3?52:-52),l=e||n.includes(t)?37.5:0;Zt(i,c,50,0,{...r,holeR:l}),Tn(i,c,.3,ROSETTE_FILL_C,ROSETTE_STROKE_C)}),pop()}const Nt=t=>[1,2,3,4].filter(e=>!t.includes(e)),Pt=t=>({1:4,2:3,3:2,4:1})[t],wt=t=>t%2!=0?-1:1,Ft=(t,e)=>e?0:t<3?-1:1,bt=(t,e)=>t.every((t,n)=>t===e[n])&&t.length===e.length,Ht=t=>4!==t.length&&t.length?1===t.length?Pt(t[0]):s(Nt(t)):s([1,2,3,4]);function vt(t){return 4!==t.length&&t.length?bt(t,[1,4])||bt(t,[2,3])?s([[1,4],[2,3]]):1===t.length?Nt([t[0],Pt(t[0])]):[Pt(t[0]),Pt(t[1])]:s([[1,4],[2,3],[1,2],[3,4]])}function xt(t=[],e=!1){const n=115+(F?0:30),o=1===t.length?Pt(t[0]):s(Nt(t)),r=s(Nt([o,...t])),i=(F?150:120)*wt(o),c=150*wt(r);Ke(i>0?i+85:i,n*Ft(o),10,e),Ue(c<0?c-65:c,n*Ft(r))}function Vt(t,e=!1){if(push(),e||o(.25))rotate(.75*TWO_PI*t),Ue(-it/6-25,-it/3-80),Ke(it/6+35,-it/3-80,10);else{const e=t>0;Ue((5*it/12+(e?30:-35))*-t,ct/3+15),Ke(e?70:-5,ct/3+20,10)}pop()}function Dt(){const t=W?{c1:-1,c2:185}:{holeR:135,c1:1,c2:-1,r1:15,r2:14,...Yt()};Zt(0,0,W?170:155,0,t);const n=e();X||n<.1?kn(0,0,2.3):n<.8?Pe(0,0,ROSETTE_STROKE_C,W?.5:.7):n<.92?He(0,0,200):n<.98&&Ne(0,0,250)}function Gt(t){const n=int(e(3,11))*r();re(210*t,20,40,0,ae({strokeC:_,strokeW:1,rDiff:2,ignoreShrink:!0,c1:n,c2:(n+5)*r()}))}function Kt(t){Tn(205*t,20,.65,LIGHT_ACCENT_C,LIGHT_ACCENT_C)}const Yt=()=>W?{}:{strokeC:ROSETTE_STROKE_C,innerC:A?ROSETTE_STROKE_C:C,outterC:ROSETTE_FILL_C};function Xt(){const t=!W&&o(.5),e=o(.25)?s([1,2]):0,n=Yt();Zt(0,0,150,0,n),t?Zt(0,0,70,0,{...n,holeR:60}):e&&(Zt(0,0,110,0,0,n),e>1&&Zt(0,0,70,0,0,n)),(X||t||e<2||o(.9375))&&kn(0,0,1)}function jt(){const t=s([1,2,3]),e=Yt();if(3===t){const t=fe(e);Zt(150,0,80,0,t),Zt(-150,0,80,0,t)}const n=fe(e);if(Zt(110,0,100,0,n),Zt(-110,0,100,0,n),t>1){const t=fe(e);Zt(60,0,130,0,t),Zt(-60,0,130,0,t)}Zt(0,0,150,0,fe(e)),Zt(0,0,70,0,{...fe(e),holeR:O?60:0}),kn(0,0,.65)}function Ut(){const t=e(),n=Yt();if(t<.125){const t=fe(n);Zt(25,-120,25,0,t),Zt(25,120,25,0,t),Zt(-25,-120,25,0,t),Zt(-25,120,25,0,t)}if(t<.25){const t=fe(n);Zt(50,-90,45,0,t),Zt(50,90,45,0,t),Zt(-50,-90,45,0,t),Zt(-50,90,45,0,t)}if(t<.5){const t=fe(n);Zt(90,-50,70,0,t),Zt(90,50,70,0,t),Zt(-90,-50,70,0,t),Zt(-90,50,70,0,t)}const o=fe(n);Zt(130,0,90,0,o),Zt(-130,0,90,0,o),kn(0,0,.65)}function mt(){const t=Yt();Zt(0,0,120,0,fe(t)),Zt(0,0,90,0,fe(t)),Zt(0,0,60,0,fe(t)),hn(O,-142,2,.65,h),hn(O,142,2,.65,h),hn(O,-140,0,.65,h,T),hn(O,140,0,.65,h,T)}function yt(){he(),qt(1,!0),qt(0,!0),qt(-1,!0),Vt(r(),!0)}function Bt(){he();const t=r();o(.5)&&$t(t),qt(t);const n=e(),s=it/-6*t;if(n<.65||tt){const e=Yt();Zt(it/-6*t,0,180,0,e),(W||o(.3125))&&(Zt(it/-6*t,0,135,0,e),Zt(it/-6*t,0,90,0,e),W&&Zt(it/-6*t,0,70)),o(.1)&&He(s,0,245)}else n<.9?(Pe(s,0),(o(.1)||0===w)&&He(s,0,245)):n<.97?He(s,0,245):n<.99?kn(s,0,3):Ne(it/-6*t,0,300);o(.5)&&zt(-1*t,1),o(.5)&&zt(-1*t,-1),Vt(t)}function $t(t=-1){push(),A&&stroke(E),line(it*t/6-1,20-ct/2,it*t/6-1,ct/2-20),line(it*t/6+1,20-ct/2,it*t/6+1,ct/2-20),pop()}function qt(t=-1,e=!1){if(o(.5)&&!e)Qt(ct/3*(o(.5)?1:-1),t);else{const e=s([1,2,3]);Qt(-ct/3,t,1!=e),Qt(0,t,2!=e),Qt(ct/3,t,3!=e)}}function Qt(t,e,n=!1){const r=it/3*e;tt&&!t&&!e||o(.15)&&n?Zt(r,t,55,0,Yt()):kn(r,t,1.1)}function zt(t=1,e=1){push(),strokeCap(SQUARE);const n=it/2*t,o=-ct/2*e;line(n-35*t,o+20*e,n-10*t,o+20*e),line(n-10*t,o+20*e,n-10*t,o+45*e),line(n-35*t,o+25*e,n-15*t,o+25*e),line(n-15*t,o+25*e,n-15*t,o+45*e),pop()}function Jt(){a(25,()=>{let t=e(25,200);const n=e(ut,at),r=e(pt,ht);Zt(n,r,t,o(.5)?0:e(t/5,t),{skipBg:o(.9)}),o(.5)&&kn(n,r,t/120)})}function Zt(t,e,n,o=0,r={}){W&&(n*=.75),R&&(r={...r,fillC:ROSETTE_FILL_C,strokeMod:6});const s=W?ue(r):ae(r);r.skipBg||(W?ce:oe)(t,e,n,o,{...s,strokeC:ROSETTE_FILL_C,fillC:ROSETTE_FILL_C,strokeMod:6}),te()(t,e,n,r.holeR||o,{...s,strokeC:ROSETTE_STROKE_C,innerC:!1})};